<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: LightEffect_DayNight
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "LightEffect_DayNight";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (L)</a> &raquo;
    
    
    <span class="title">LightEffect_DayNight</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: LightEffect_DayNight
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="LightEffect.html" title="LightEffect (class)">LightEffect</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="LightEffect.html" title="LightEffect (class)">LightEffect</a></span></li>
          
            <li class="next">LightEffect_DayNight</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>scripts/PField_Field.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(event, viewport = nil, map = nil, filename = nil)  &#x21d2; LightEffect_DayNight </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of LightEffect_DayNight.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update-instance_method" title="#update (instance method)">#<strong>update</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="LightEffect.html" title="LightEffect (class)">LightEffect</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="LightEffect.html#dispose-instance_method" title="LightEffect#dispose (method)">#dispose</a></span>, <span class='object_link'><a href="LightEffect.html#disposed%3F-instance_method" title="LightEffect#disposed? (method)">#disposed?</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(event, viewport = nil, map = nil, filename = nil)  &#x21d2; <tt><span class='object_link'><a href="" title="LightEffect_DayNight (class)">LightEffect_DayNight</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of LightEffect_DayNight.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


170
171
172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_Field.rb', line 170</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span><span class='id identifier rubyid_viewport'>viewport</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span><span class='id identifier rubyid_map'>map</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span><span class='id identifier rubyid_filename'>filename</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>super</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="update-instance_method">
  
    #<strong>update</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


174
175
176
177
178
179
180
181
182
183
184
185
186
187
188
189
190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_Field.rb', line 174</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update'>update</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@light</span> <span class='op'>||</span> <span class='op'>!</span><span class='ivar'>@event</span>
  <span class='kw'>super</span>
  <span class='id identifier rubyid_shade'>shade</span><span class='op'>=</span><span class='const'>PBDayNight</span><span class='period'>.</span><span class='id identifier rubyid_getShade'>getShade</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_shade'>shade</span><span class='op'>&gt;=</span><span class='int'>144</span>   <span class='comment'># If light enough, call it fully day.
</span>    <span class='id identifier rubyid_shade'>shade</span><span class='op'>=</span><span class='int'>255</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_shade'>shade</span><span class='op'>&lt;=</span><span class='int'>64</span>   <span class='comment'># If dark enough, call it fully night.
</span>    <span class='id identifier rubyid_shade'>shade</span><span class='op'>=</span><span class='int'>0</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_shade'>shade</span><span class='op'>=</span><span class='int'>255</span><span class='op'>-</span><span class='lparen'>(</span><span class='int'>255</span><span class='op'>*</span><span class='lparen'>(</span><span class='int'>144</span><span class='op'>-</span><span class='id identifier rubyid_shade'>shade</span><span class='rparen'>)</span><span class='op'>/</span><span class='lparen'>(</span><span class='int'>144</span><span class='op'>-</span><span class='int'>64</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span> <span class='op'>=</span> <span class='int'>255</span><span class='op'>-</span><span class='id identifier rubyid_shade'>shade</span>
  <span class='kw'>if</span> <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>&gt;</span><span class='int'>0</span>
    <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_ox'>ox</span><span class='op'>=</span><span class='int'>32</span>
    <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_oy'>oy</span><span class='op'>=</span><span class='int'>48</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='const'>Object</span><span class='period'>.</span><span class='id identifier rubyid_const_defined?'>const_defined?</span><span class='lparen'>(</span><span class='symbol'>:ScreenPosHelper</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='kw'>false</span><span class='rparen'>)</span>
      <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ScreenPosHelper.html" title="ScreenPosHelper (module)">ScreenPosHelper</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pbScreenX'><span class='object_link'><a href="ScreenPosHelper.html#pbScreenX-class_method" title="ScreenPosHelper.pbScreenX (method)">pbScreenX</a></span></span><span class='lparen'>(</span><span class='ivar'>@event</span><span class='rparen'>)</span>
      <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ScreenPosHelper.html" title="ScreenPosHelper (module)">ScreenPosHelper</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pbScreenY'><span class='object_link'><a href="ScreenPosHelper.html#pbScreenY-class_method" title="ScreenPosHelper.pbScreenY (method)">pbScreenY</a></span></span><span class='lparen'>(</span><span class='ivar'>@event</span><span class='rparen'>)</span>
      <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_zoom_x'>zoom_x</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ScreenPosHelper.html" title="ScreenPosHelper (module)">ScreenPosHelper</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pbScreenZoomX'><span class='object_link'><a href="ScreenPosHelper.html#pbScreenZoomX-class_method" title="ScreenPosHelper.pbScreenZoomX (method)">pbScreenZoomX</a></span></span><span class='lparen'>(</span><span class='ivar'>@event</span><span class='rparen'>)</span>
      <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_zoom_y'>zoom_y</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="ScreenPosHelper.html" title="ScreenPosHelper (module)">ScreenPosHelper</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pbScreenZoomY'><span class='object_link'><a href="ScreenPosHelper.html#pbScreenZoomY-class_method" title="ScreenPosHelper.pbScreenZoomY (method)">pbScreenZoomY</a></span></span><span class='lparen'>(</span><span class='ivar'>@event</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>=</span> <span class='ivar'>@event</span><span class='period'>.</span><span class='id identifier rubyid_screen_x'>screen_x</span>
      <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span> <span class='op'>=</span> <span class='ivar'>@event</span><span class='period'>.</span><span class='id identifier rubyid_screen_y'>screen_y</span>
      <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_zoom_x'>zoom_x</span> <span class='op'>=</span> <span class='float'>1.0</span>
      <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_zoom_y'>zoom_y</span> <span class='op'>=</span> <span class='float'>1.0</span>
    <span class='kw'>end</span>
    <span class='ivar'>@light</span><span class='period'>.</span><span class='id identifier rubyid_tone'>tone</span><span class='period'>.</span><span class='id identifier rubyid_set'>set</span><span class='lparen'>(</span><span class='gvar'>$game_screen</span><span class='period'>.</span><span class='id identifier rubyid_tone'>tone</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span><span class='comma'>,</span>
                    <span class='gvar'>$game_screen</span><span class='period'>.</span><span class='id identifier rubyid_tone'>tone</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span><span class='comma'>,</span>
                    <span class='gvar'>$game_screen</span><span class='period'>.</span><span class='id identifier rubyid_tone'>tone</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span><span class='comma'>,</span>
                    <span class='gvar'>$game_screen</span><span class='period'>.</span><span class='id identifier rubyid_tone'>tone</span><span class='period'>.</span><span class='id identifier rubyid_gray'>gray</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu May 19 20:12:26 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-2.7.5).
</div>

    </div>
  </body>
</html>