<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: PBAnimation
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "PBAnimation";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (P)</a> &raquo;
    
    
    <span class="title">PBAnimation</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: PBAnimation
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName"><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next"><span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></li>
          
            <li class="next">PBAnimation</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  <dl>
      <dt>Includes:</dt>
      <dd><span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></dd>
  </dl>
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>scripts/PokeBattle_AnimationPlayer.rb</dd>
  </dl>
  
</div>


  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="MAXSPRITES-constant" class="">MAXSPRITES =
          
        </dt>
        <dd><pre class="code"><span class='int'>30</span></pre></dd>
      
    </dl>
  




  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#array-instance_method" title="#array (instance method)">#<strong>array</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute array.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#graphic-instance_method" title="#graphic (instance method)">#<strong>graphic</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute graphic.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#hue-instance_method" title="#hue (instance method)">#<strong>hue</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute hue.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#id-instance_method" title="#id (instance method)">#<strong>id</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute id.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#name-instance_method" title="#name (instance method)">#<strong>name</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute name.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#position-instance_method" title="#position (instance method)">#<strong>position</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute position.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#speed-instance_method" title="#speed (instance method)">#<strong>speed</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute speed.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#timing-instance_method" title="#timing (instance method)">#<strong>timing</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute timing.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(i)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#[]=-instance_method" title="#[]= (instance method)">#<strong>[]=</strong>(i, value)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#addFrame-instance_method" title="#addFrame (instance method)">#<strong>addFrame</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#delete_at-instance_method" title="#delete_at (instance method)">#<strong>delete_at</strong>(*arg)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(size = 1)  &#x21d2; PBAnimation </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of PBAnimation.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#insert-instance_method" title="#insert (instance method)">#<strong>insert</strong>(*arg)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#length-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#playTiming-instance_method" title="#playTiming (instance method)">#<strong>playTiming</strong>(frame, bgGraphic, bgColor, foGraphic, foColor, oldbg = [], oldfo = [], user = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#resize-instance_method" title="#resize (instance method)">#<strong>resize</strong>(len)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  


  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods included from <span class='object_link'><a href="Enumerable.html" title="Enumerable (module)">Enumerable</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Enumerable.html#transform-instance_method" title="Enumerable#transform (method)">#transform</a></span></p>

  
  
  
  
  
  
  
  
  <h3 class="inherited">Methods inherited from <span class='object_link'><a href="Array.html" title="Array (class)">Array</a></span></h3>
  <p class="inherited"><span class='object_link'><a href="Array.html#%5E-instance_method" title="Array#^ (method)">#^</a></span>, <span class='object_link'><a href="Array.html#shuffle-instance_method" title="Array#shuffle (method)">#shuffle</a></span>, <span class='object_link'><a href="Array.html#shuffle!-instance_method" title="Array#shuffle! (method)">#shuffle!</a></span></p>
<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(size = 1)  &#x21d2; <tt><span class='object_link'><a href="" title="PBAnimation (class)">PBAnimation</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of PBAnimation.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


489
490
491
492
493
494
495
496
497
498
499
500
501
502</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 489</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_size'>size</span><span class='op'>=</span><span class='int'>1</span><span class='rparen'>)</span>
  <span class='ivar'>@array</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@timing</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@name</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@id</span><span class='op'>=</span><span class='op'>-</span><span class='int'>1</span>
  <span class='ivar'>@graphic</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='ivar'>@hue</span><span class='op'>=</span><span class='int'>0</span>
  <span class='ivar'>@scope</span><span class='op'>=</span><span class='int'>0</span>
  <span class='ivar'>@position</span><span class='op'>=</span><span class='int'>4</span> <span class='comment'># 1=target, 2=user, 3=user and target, 4=screen
</span>  <span class='id identifier rubyid_size'>size</span><span class='op'>=</span><span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_size'>size</span><span class='op'>&lt;</span><span class='int'>1</span> <span class='comment'># Always create at least one frame
</span>  <span class='id identifier rubyid_size'>size</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_addFrame'>addFrame</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="array-instance_method">
  
    #<strong>array</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute array.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


479
480
481</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 479</span>

<span class='kw'>def</span> <span class='id identifier rubyid_array'>array</span>
  <span class='ivar'>@array</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="graphic=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="graphic-instance_method">
  
    #<strong>graphic</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute graphic.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


474
475
476</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 474</span>

<span class='kw'>def</span> <span class='id identifier rubyid_graphic'>graphic</span>
  <span class='ivar'>@graphic</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="hue=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="hue-instance_method">
  
    #<strong>hue</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute hue.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


475
476
477</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 475</span>

<span class='kw'>def</span> <span class='id identifier rubyid_hue'>hue</span>
  <span class='ivar'>@hue</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="id=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="id-instance_method">
  
    #<strong>id</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute id.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


481
482
483</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 481</span>

<span class='kw'>def</span> <span class='id identifier rubyid_id'>id</span>
  <span class='ivar'>@id</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="name=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="name-instance_method">
  
    #<strong>name</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute name.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


476
477
478</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 476</span>

<span class='kw'>def</span> <span class='id identifier rubyid_name'>name</span>
  <span class='ivar'>@name</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="position=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="position-instance_method">
  
    #<strong>position</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute position.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


477
478
479</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 477</span>

<span class='kw'>def</span> <span class='id identifier rubyid_position'>position</span>
  <span class='ivar'>@position</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="speed=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="speed-instance_method">
  
    #<strong>speed</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute speed.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


478
479
480</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 478</span>

<span class='kw'>def</span> <span class='id identifier rubyid_speed'>speed</span>
  <span class='ivar'>@speed</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id=""></span>
      <div class="method_details ">
  <h3 class="signature " id="timing-instance_method">
  
    #<strong>timing</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute timing.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


480
481
482</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 480</span>

<span class='kw'>def</span> <span class='id identifier rubyid_timing'>timing</span>
  <span class='ivar'>@timing</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="[]-instance_method">
  
    #<strong>[]</strong>(i)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


512
513
514</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 512</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='ivar'>@array</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="[]=-instance_method">
  
    #<strong>[]=</strong>(i, value)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


516
517
518</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 516</span>

<span class='kw'>def</span> <span class='op'>[]=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='comma'>,</span><span class='id identifier rubyid_value'>value</span><span class='rparen'>)</span>
  <span class='ivar'>@array</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_value'>value</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="addFrame-instance_method">
  
    #<strong>addFrame</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


657
658
659
660
661
662
663
664
665
666
667
668
669
670
671
672
673
674
675
676</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 657</span>

<span class='kw'>def</span> <span class='id identifier rubyid_addFrame'>addFrame</span>
  <span class='id identifier rubyid_pos'>pos</span><span class='op'>=</span><span class='ivar'>@array</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='ivar'>@array</span><span class='lbracket'>[</span><span class='id identifier rubyid_pos'>pos</span><span class='rbracket'>]</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='const'><span class='object_link'><a href="" title="PBAnimation (class)">PBAnimation</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="#MAXSPRITES-constant" title="PBAnimation::MAXSPRITES (constant)">MAXSPRITES</a></span></span> <span class='comment'># maximum sprites plus user and target
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='op'>==</span><span class='int'>0</span>
      <span class='ivar'>@array</span><span class='lbracket'>[</span><span class='id identifier rubyid_pos'>pos</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_pbCreateCel'><span class='object_link'><a href="top-level-namespace.html#pbCreateCel-instance_method" title="#pbCreateCel (method)">pbCreateCel</a></span></span><span class='lparen'>(</span>
         <span class='const'><span class='object_link'><a href="PokeBattle_SceneConstants.html" title="PokeBattle_SceneConstants (module)">PokeBattle_SceneConstants</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="PokeBattle_SceneConstants.html#FOCUSUSER_X-constant" title="PokeBattle_SceneConstants::FOCUSUSER_X (constant)">FOCUSUSER_X</a></span></span><span class='comma'>,</span>
         <span class='const'><span class='object_link'><a href="PokeBattle_SceneConstants.html" title="PokeBattle_SceneConstants (module)">PokeBattle_SceneConstants</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="PokeBattle_SceneConstants.html#FOCUSUSER_Y-constant" title="PokeBattle_SceneConstants::FOCUSUSER_Y (constant)">FOCUSUSER_Y</a></span></span><span class='comma'>,</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span> <span class='comment'># Move&#39;s user
</span>      <span class='ivar'>@array</span><span class='lbracket'>[</span><span class='id identifier rubyid_pos'>pos</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="AnimFrame.html" title="AnimFrame (class)">AnimFrame</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="AnimFrame.html#FOCUS-constant" title="AnimFrame::FOCUS (constant)">FOCUS</a></span></span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>2</span>
      <span class='ivar'>@array</span><span class='lbracket'>[</span><span class='id identifier rubyid_pos'>pos</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="AnimFrame.html" title="AnimFrame (class)">AnimFrame</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="AnimFrame.html#LOCKED-constant" title="AnimFrame::LOCKED (constant)">LOCKED</a></span></span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>1</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_i'>i</span><span class='op'>==</span><span class='int'>1</span>
      <span class='ivar'>@array</span><span class='lbracket'>[</span><span class='id identifier rubyid_pos'>pos</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_pbCreateCel'><span class='object_link'><a href="top-level-namespace.html#pbCreateCel-instance_method" title="#pbCreateCel (method)">pbCreateCel</a></span></span><span class='lparen'>(</span>
         <span class='const'><span class='object_link'><a href="PokeBattle_SceneConstants.html" title="PokeBattle_SceneConstants (module)">PokeBattle_SceneConstants</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="PokeBattle_SceneConstants.html#FOCUSTARGET_X-constant" title="PokeBattle_SceneConstants::FOCUSTARGET_X (constant)">FOCUSTARGET_X</a></span></span><span class='comma'>,</span>
         <span class='const'><span class='object_link'><a href="PokeBattle_SceneConstants.html" title="PokeBattle_SceneConstants (module)">PokeBattle_SceneConstants</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="PokeBattle_SceneConstants.html#FOCUSTARGET_Y-constant" title="PokeBattle_SceneConstants::FOCUSTARGET_Y (constant)">FOCUSTARGET_Y</a></span></span><span class='comma'>,</span><span class='op'>-</span><span class='int'>2</span><span class='rparen'>)</span> <span class='comment'># Move&#39;s target
</span>      <span class='ivar'>@array</span><span class='lbracket'>[</span><span class='id identifier rubyid_pos'>pos</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="AnimFrame.html" title="AnimFrame (class)">AnimFrame</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="AnimFrame.html#FOCUS-constant" title="AnimFrame::FOCUS (constant)">FOCUS</a></span></span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>1</span>
      <span class='ivar'>@array</span><span class='lbracket'>[</span><span class='id identifier rubyid_pos'>pos</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="AnimFrame.html" title="AnimFrame (class)">AnimFrame</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="AnimFrame.html#LOCKED-constant" title="AnimFrame::LOCKED (constant)">LOCKED</a></span></span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>1</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='ivar'>@array</span><span class='lbracket'>[</span><span class='id identifier rubyid_pos'>pos</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="delete_at-instance_method">
  
    #<strong>delete_at</strong>(*arg)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


524
525
526</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 524</span>

<span class='kw'>def</span> <span class='id identifier rubyid_delete_at'>delete_at</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='ivar'>@array</span><span class='period'>.</span><span class='id identifier rubyid_delete_at'>delete_at</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each-instance_method">
  
    #<strong>each</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


508
509
510</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 508</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>
  <span class='ivar'>@array</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_i'>i</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="insert-instance_method">
  
    #<strong>insert</strong>(*arg)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


520
521
522</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 520</span>

<span class='kw'>def</span> <span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='ivar'>@array</span><span class='period'>.</span><span class='id identifier rubyid_insert'>insert</span><span class='lparen'>(</span><span class='op'>*</span><span class='id identifier rubyid_arg'>arg</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="length-instance_method">
  
    #<strong>length</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


504
505
506</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 504</span>

<span class='kw'>def</span> <span class='id identifier rubyid_length'>length</span>
  <span class='kw'>return</span> <span class='ivar'>@array</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="playTiming-instance_method">
  
    #<strong>playTiming</strong>(frame, bgGraphic, bgColor, foGraphic, foColor, oldbg = [], oldfo = [], user = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


528
529
530
531
532
533
534
535
536
537
538
539
540
541
542
543
544
545
546
547
548
549
550
551
552
553
554
555
556
557
558
559
560
561
562
563
564
565
566
567
568
569
570
571
572
573
574
575
576
577
578
579
580
581
582
583
584
585
586
587
588
589
590
591
592
593
594
595
596
597
598
599
600
601
602
603
604
605
606
607
608
609
610
611
612
613
614
615
616
617
618
619
620
621
622
623
624
625
626
627
628
629
630
631
632
633
634
635
636
637
638
639
640
641
642
643
644
645</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 528</span>

<span class='kw'>def</span> <span class='id identifier rubyid_playTiming'>playTiming</span><span class='lparen'>(</span><span class='id identifier rubyid_frame'>frame</span><span class='comma'>,</span><span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='comma'>,</span><span class='id identifier rubyid_bgColor'>bgColor</span><span class='comma'>,</span><span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='comma'>,</span><span class='id identifier rubyid_foColor'>foColor</span><span class='comma'>,</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_user'>user</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='ivar'>@timing</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_frame'>frame</span><span class='op'>==</span><span class='id identifier rubyid_frame'>frame</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_timingType'>timingType</span>
      <span class='kw'>when</span> <span class='int'>0</span>   <span class='comment'># Play SE
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='op'>!=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_pbSEPlay'><span class='object_link'><a href="top-level-namespace.html#pbSEPlay-instance_method" title="#pbSEPlay (method)">pbSEPlay</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_volume'>volume</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_pitch'>pitch</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_poke'>poke</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_user'>user</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_pokemon'>pokemon</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_user'>user</span><span class='period'>.</span><span class='id identifier rubyid_pokemon'>pokemon</span> <span class='op'>:</span> <span class='int'>1</span>
          <span class='id identifier rubyid_name'>name</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_pbCryFile'>pbCryFile</span><span class='lparen'>(</span><span class='id identifier rubyid_poke'>poke</span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='kw'>nil</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pbSEPlay'><span class='object_link'><a href="top-level-namespace.html#pbSEPlay-instance_method" title="#pbSEPlay (method)">pbSEPlay</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_volume'>volume</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_pitch'>pitch</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_name'>name</span>
        <span class='kw'>end</span>
<span class='comment'>#          if sprite
</span><span class='comment'>#            sprite.flash(i.flashColor,i.flashDuration*2) if i.flashScope==1
</span><span class='comment'>#            sprite.flash(nil,i.flashDuration*2) if i.flashScope==3
</span><span class='comment'>#          end
</span>      <span class='kw'>when</span> <span class='int'>1</span>   <span class='comment'># Set background graphic (immediate)
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='op'>!=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_setBitmap'>setBitmap</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Graphics/Animations/</span><span class='tstring_end'>&quot;</span></span><span class='op'>+</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_ox'>ox</span><span class='op'>=</span><span class='op'>-</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgX'>bgX</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_oy'>oy</span><span class='op'>=</span><span class='op'>-</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgY'>bgY</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='op'>=</span><span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span> <span class='op'>||</span> <span class='int'>0</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_bgColor'>bgColor</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='int'>0</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_setBitmap'>setBitmap</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_bgColor'>bgColor</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='op'>=</span><span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span> <span class='op'>||</span> <span class='int'>0</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_bgColor'>bgColor</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span> <span class='op'>||</span> <span class='int'>0</span>
        <span class='kw'>end</span>
      <span class='kw'>when</span> <span class='int'>2</span>   <span class='comment'># Move/recolour background graphic
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_bitmap'>bitmap</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_ox'>ox</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_oy'>oy</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span> <span class='op'>||</span> <span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_bgColor'>bgColor</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_bgColor'>bgColor</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span> <span class='op'>||</span> <span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>when</span> <span class='int'>3</span>   <span class='comment'># Set foreground graphic (immediate)
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='op'>!=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
          <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_setBitmap'>setBitmap</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Graphics/Animations/</span><span class='tstring_end'>&quot;</span></span><span class='op'>+</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_ox'>ox</span><span class='op'>=</span><span class='op'>-</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgX'>bgX</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_oy'>oy</span><span class='op'>=</span><span class='op'>-</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgY'>bgY</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='op'>=</span><span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span> <span class='op'>||</span> <span class='int'>0</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_foColor'>foColor</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='int'>0</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_setBitmap'>setBitmap</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_foColor'>foColor</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='op'>=</span><span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span> <span class='op'>||</span> <span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span> <span class='op'>||</span> <span class='int'>0</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_foColor'>foColor</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span> <span class='op'>||</span> <span class='int'>0</span>
        <span class='kw'>end</span>
      <span class='kw'>when</span> <span class='int'>4</span>   <span class='comment'># Move/recolour foreground graphic
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_bitmap'>bitmap</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_ox'>ox</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_oy'>oy</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span> <span class='op'>||</span> <span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_foColor'>foColor</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span> <span class='op'>||</span> <span class='int'>0</span>
          <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_foColor'>foColor</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span> <span class='op'>||</span> <span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='ivar'>@timing</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_timingType'>timingType</span>
    <span class='kw'>when</span> <span class='int'>2</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_duration'>duration</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_duration'>duration</span><span class='op'>&gt;</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_frame'>frame</span><span class='op'>&gt;=</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_frame'>frame</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_frame'>frame</span><span class='op'>&lt;=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_frame'>frame</span><span class='op'>+</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_duration'>duration</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_fraction'>fraction</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_frame'>frame</span><span class='op'>-</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_frame'>frame</span><span class='rparen'>)</span><span class='op'>*</span><span class='float'>1.0</span><span class='op'>/</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_duration'>duration</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_bitmap'>bitmap</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_ox'>ox</span><span class='op'>=</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>-</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgX'>bgX</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgX'>bgX</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_oy'>oy</span><span class='op'>=</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>-</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgY'>bgY</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgY'>bgY</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_cr'>cr</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span>
          <span class='id identifier rubyid_cg'>cg</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span>
          <span class='id identifier rubyid_cb'>cb</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span>
          <span class='id identifier rubyid_ca'>ca</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span>
          <span class='id identifier rubyid_bgGraphic'>bgGraphic</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='op'>=</span><span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_cr'>cr</span><span class='comma'>,</span><span class='id identifier rubyid_cg'>cg</span><span class='comma'>,</span><span class='id identifier rubyid_cb'>cb</span><span class='comma'>,</span><span class='id identifier rubyid_ca'>ca</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_bgColor'>bgColor</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_cr'>cr</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span>
          <span class='id identifier rubyid_cg'>cg</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span>
          <span class='id identifier rubyid_cb'>cb</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span>
          <span class='id identifier rubyid_ca'>ca</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span><span class='op'>-</span><span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldbg'>oldbg</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span>
          <span class='id identifier rubyid_bgColor'>bgColor</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='op'>=</span><span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_cr'>cr</span><span class='comma'>,</span><span class='id identifier rubyid_cg'>cg</span><span class='comma'>,</span><span class='id identifier rubyid_cb'>cb</span><span class='comma'>,</span><span class='id identifier rubyid_ca'>ca</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>when</span> <span class='int'>4</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_duration'>duration</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_duration'>duration</span><span class='op'>&gt;</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_frame'>frame</span><span class='op'>&gt;=</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_frame'>frame</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_frame'>frame</span><span class='op'>&lt;=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_frame'>frame</span><span class='op'>+</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_duration'>duration</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_fraction'>fraction</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_frame'>frame</span><span class='op'>-</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_frame'>frame</span><span class='rparen'>)</span><span class='op'>*</span><span class='float'>1.0</span><span class='op'>/</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_duration'>duration</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_bitmap'>bitmap</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_ox'>ox</span><span class='op'>=</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>-</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgX'>bgX</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgX'>bgX</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_oy'>oy</span><span class='op'>=</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>-</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgY'>bgY</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_bgY'>bgY</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_cr'>cr</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span>
          <span class='id identifier rubyid_cg'>cg</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span>
          <span class='id identifier rubyid_cb'>cb</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span>
          <span class='id identifier rubyid_ca'>ca</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span>
          <span class='id identifier rubyid_foGraphic'>foGraphic</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='op'>=</span><span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_cr'>cr</span><span class='comma'>,</span><span class='id identifier rubyid_cg'>cg</span><span class='comma'>,</span><span class='id identifier rubyid_cb'>cb</span><span class='comma'>,</span><span class='id identifier rubyid_ca'>ca</span><span class='rparen'>)</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_foColor'>foColor</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>=</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_opacity'>opacity</span><span class='op'>!=</span><span class='kw'>nil</span>
          <span class='id identifier rubyid_cr'>cr</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorRed'>colorRed</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_red'>red</span>
          <span class='id identifier rubyid_cg'>cg</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorGreen'>colorGreen</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_green'>green</span>
          <span class='id identifier rubyid_cb'>cb</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorBlue'>colorBlue</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_blue'>blue</span>
          <span class='id identifier rubyid_ca'>ca</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span><span class='op'>!=</span><span class='kw'>nil</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span><span class='op'>+</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_colorAlpha'>colorAlpha</span><span class='op'>-</span><span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_fraction'>fraction</span> <span class='op'>:</span> <span class='id identifier rubyid_oldfo'>oldfo</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_alpha'>alpha</span>
          <span class='id identifier rubyid_foColor'>foColor</span><span class='period'>.</span><span class='id identifier rubyid_color'>color</span><span class='op'>=</span><span class='const'>Color</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_cr'>cr</span><span class='comma'>,</span><span class='id identifier rubyid_cg'>cg</span><span class='comma'>,</span><span class='id identifier rubyid_cb'>cb</span><span class='comma'>,</span><span class='id identifier rubyid_ca'>ca</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="resize-instance_method">
  
    #<strong>resize</strong>(len)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


647
648
649
650
651
652
653
654
655</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PokeBattle_AnimationPlayer.rb', line 647</span>

<span class='kw'>def</span> <span class='id identifier rubyid_resize'>resize</span><span class='lparen'>(</span><span class='id identifier rubyid_len'>len</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_len'>len</span><span class='op'>&lt;</span><span class='ivar'>@array</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='ivar'>@array</span><span class='lbracket'>[</span><span class='id identifier rubyid_len'>len</span><span class='comma'>,</span><span class='ivar'>@array</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='id identifier rubyid_len'>len</span><span class='rbracket'>]</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_len'>len</span><span class='op'>&gt;</span><span class='ivar'>@array</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='lparen'>(</span><span class='id identifier rubyid_len'>len</span><span class='op'>-</span><span class='ivar'>@array</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span>
      <span class='id identifier rubyid_addFrame'>addFrame</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu May 19 20:12:49 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-2.7.5).
</div>

    </div>
  </body>
</html>