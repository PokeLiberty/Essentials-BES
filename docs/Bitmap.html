<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: Bitmap
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "Bitmap";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (B)</a> &raquo;
    
    
    <span class="title">Bitmap</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: Bitmap
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">Bitmap</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>scripts/Sprite_Resizer.rb</dd>
  </dl>
  
</div>

<div id="subclasses">
  <h2>Direct Known Subclasses</h2>
  <p class="children"><span class='object_link'><a href="BitmapWrapper.html" title="BitmapWrapper (class)">BitmapWrapper</a></span></p>
</div>

  
    <h2>
      Constant Summary
      <small><a href="#" class="constants_summary_toggle">collapse</a></small>
    </h2>

    <dl class="constants">
      
        <dt id="RtlMoveMemory_pi-constant" class="">RtlMoveMemory_pi =
          <div class="docstring">
  <div class="discussion">
    
<p>Fast methods for retrieving bitmap data</p>


  </div>
</div>
<div class="tags">
  

</div>
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="Win32API.html" title="Win32API (class)">Win32API</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>kernel32</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RtlMoveMemory</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pii</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>i</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span></pre></dd>
      
        <dt id="RtlMoveMemory_ip-constant" class="">RtlMoveMemory_ip =
          
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="Win32API.html" title="Win32API (class)">Win32API</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>kernel32</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>RtlMoveMemory</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>ipi</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>i</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span></pre></dd>
      
        <dt id="SwapRgb-constant" class="">SwapRgb =
          
        </dt>
        <dd><pre class="code"><span class='const'><span class='object_link'><a href="Win32API.html" title="Win32API (class)">Win32API</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>./rubyscreen.dll</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>SwapRgb</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_content'>pi</span><span class='tstring_end'>&#39;</span></span><span class='comma'>,</span> <span class='tstring'><span class='tstring_beg'>&#39;</span><span class='tstring_end'>&#39;</span></span><span class='rparen'>)</span> <span class='kw'>rescue</span> <span class='kw'>nil</span></pre></dd>
      
    </dl>
  







  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#address-instance_method" title="#address (instance method)">#<strong>address</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#asOpaque-instance_method" title="#asOpaque (instance method)">#<strong>asOpaque</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getData-instance_method" title="#getData (instance method)">#<strong>getData</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#saveToPng-instance_method" title="#saveToPng (instance method)">#<strong>saveToPng</strong>(filename)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#setData-instance_method" title="#setData (instance method)">#<strong>setData</strong>(x)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#swap32-instance_method" title="#swap32 (instance method)">#<strong>swap32</strong>(x)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  



  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="address-instance_method">
  
    #<strong>address</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


747
748
749
750
751
752
753
754
755
756
757
758</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/Sprite_Resizer.rb', line 747</span>

<span class='kw'>def</span> <span class='id identifier rubyid_address'>address</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@address</span>
    <span class='id identifier rubyid_buffer'>buffer</span><span class='comma'>,</span> <span class='id identifier rubyid_ad'>ad</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rgba</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span> <span class='id identifier rubyid_object_id'>object_id</span> <span class='op'>*</span> <span class='int'>2</span> <span class='op'>+</span> <span class='int'>16</span>
    <span class='const'><span class='object_link'><a href="#RtlMoveMemory_pi-constant" title="Bitmap::RtlMoveMemory_pi (constant)">RtlMoveMemory_pi</a></span></span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_buffer'>buffer</span><span class='comma'>,</span> <span class='id identifier rubyid_ad'>ad</span><span class='comma'>,</span> <span class='int'>4</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_ad'>ad</span> <span class='op'>=</span> <span class='id identifier rubyid_buffer'>buffer</span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>L</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='int'>8</span>
    <span class='const'><span class='object_link'><a href="#RtlMoveMemory_pi-constant" title="Bitmap::RtlMoveMemory_pi (constant)">RtlMoveMemory_pi</a></span></span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_buffer'>buffer</span><span class='comma'>,</span> <span class='id identifier rubyid_ad'>ad</span><span class='comma'>,</span> <span class='int'>4</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_ad'>ad</span> <span class='op'>=</span> <span class='id identifier rubyid_buffer'>buffer</span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>L</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>+</span> <span class='int'>16</span>
    <span class='const'><span class='object_link'><a href="#RtlMoveMemory_pi-constant" title="Bitmap::RtlMoveMemory_pi (constant)">RtlMoveMemory_pi</a></span></span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_buffer'>buffer</span><span class='comma'>,</span> <span class='id identifier rubyid_ad'>ad</span><span class='comma'>,</span> <span class='int'>4</span><span class='rparen'>)</span>
    <span class='ivar'>@address</span><span class='op'>=</span><span class='id identifier rubyid_buffer'>buffer</span><span class='period'>.</span><span class='id identifier rubyid_unpack'>unpack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>L</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='ivar'>@address</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="asOpaque-instance_method">
  
    #<strong>asOpaque</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


686
687
688
689
690
691
692
693
694</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/Sprite_Resizer.rb', line 686</span>

<span class='kw'>def</span> <span class='id identifier rubyid_asOpaque'>asOpaque</span>
  <span class='id identifier rubyid_data'>data</span><span class='op'>=</span><span class='id identifier rubyid_getData'>getData</span>
  <span class='id identifier rubyid_j'>j</span><span class='op'>=</span><span class='int'>3</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_width'>width</span><span class='op'>*</span><span class='id identifier rubyid_height'>height</span>
    <span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='id identifier rubyid_j'>j</span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>0xFF</span>
    <span class='id identifier rubyid_j'>j</span><span class='op'>+=</span><span class='int'>4</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_setData'>setData</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getData-instance_method">
  
    #<strong>getData</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


673
674
675
676
677</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/Sprite_Resizer.rb', line 673</span>

<span class='kw'>def</span> <span class='id identifier rubyid_getData'>getData</span>
  <span class='id identifier rubyid_data'>data</span> <span class='op'>=</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>rgba</span><span class='tstring_end'>&quot;</span></span> <span class='op'>*</span> <span class='id identifier rubyid_width'>width</span> <span class='op'>*</span> <span class='id identifier rubyid_height'>height</span>
  <span class='const'><span class='object_link'><a href="#RtlMoveMemory_pi-constant" title="Bitmap::RtlMoveMemory_pi (constant)">RtlMoveMemory_pi</a></span></span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_data'>data</span><span class='comma'>,</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_address'>address</span><span class='comma'>,</span> <span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_data'>data</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="saveToPng-instance_method">
  
    #<strong>saveToPng</strong>(filename)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


696
697
698
699
700
701
702
703
704
705
706
707
708
709
710
711
712
713
714
715
716
717
718
719
720
721
722
723
724
725
726
727
728
729
730
731
732
733
734
735
736
737
738
739
740
741
742
743
744
745</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/Sprite_Resizer.rb', line 696</span>

<span class='kw'>def</span> <span class='id identifier rubyid_saveToPng'>saveToPng</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_bytes'>bytes</span><span class='op'>=</span><span class='lbracket'>[</span>
     <span class='int'>0x89</span><span class='comma'>,</span><span class='int'>0x50</span><span class='comma'>,</span><span class='int'>0x4E</span><span class='comma'>,</span><span class='int'>0x47</span><span class='comma'>,</span><span class='int'>0x0D</span><span class='comma'>,</span><span class='int'>0x0A</span><span class='comma'>,</span><span class='int'>0x1A</span><span class='comma'>,</span><span class='int'>0x0A</span><span class='comma'>,</span><span class='int'>0x00</span><span class='comma'>,</span><span class='int'>0x00</span><span class='comma'>,</span><span class='int'>0x00</span><span class='comma'>,</span><span class='int'>0x0D</span>
  <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CCCCCCCCCCCC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ihdr'>ihdr</span><span class='op'>=</span><span class='lbracket'>[</span>
     <span class='int'>0x49</span><span class='comma'>,</span><span class='int'>0x48</span><span class='comma'>,</span><span class='int'>0x44</span><span class='comma'>,</span><span class='int'>0x52</span><span class='comma'>,</span><span class='id identifier rubyid_swap32'>swap32</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_width'>width</span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_swap32'>swap32</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_height'>height</span><span class='rparen'>)</span><span class='comma'>,</span>
     <span class='int'>0x08</span><span class='comma'>,</span><span class='int'>0x06</span><span class='comma'>,</span><span class='int'>0x00</span><span class='comma'>,</span><span class='int'>0x00</span><span class='comma'>,</span><span class='int'>0x00</span>
  <span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CCCCVVCCCCC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_crc'>crc</span><span class='op'>=</span><span class='const'>Zlib</span><span class='op'>::</span><span class='id identifier rubyid_crc32'>crc32</span><span class='lparen'>(</span><span class='id identifier rubyid_ihdr'>ihdr</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_ihdr'>ihdr</span><span class='op'>+=</span><span class='lbracket'>[</span><span class='id identifier rubyid_swap32'>swap32</span><span class='lparen'>(</span><span class='id identifier rubyid_crc'>crc</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>V</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_bytesPerScan'>bytesPerScan</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_width'>width</span><span class='op'>*</span><span class='int'>4</span>
  <span class='id identifier rubyid_row'>row</span><span class='op'>=</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_height'>height</span><span class='op'>-</span><span class='int'>1</span><span class='rparen'>)</span><span class='op'>*</span><span class='id identifier rubyid_bytesPerScan'>bytesPerScan</span>
  <span class='id identifier rubyid_data'>data</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_getData'>getData</span>
  <span class='id identifier rubyid_data2'>data2</span><span class='op'>=</span><span class='id identifier rubyid_data'>data</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span>
  <span class='id identifier rubyid_width'>width</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_width'>width</span>
  <span class='id identifier rubyid_x'>x</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_len'>len</span><span class='op'>=</span><span class='id identifier rubyid_bytesPerScan'>bytesPerScan</span><span class='op'>*</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_height'>height</span>
  <span class='id identifier rubyid_ttt'>ttt</span><span class='op'>=</span><span class='const'>Time</span><span class='period'>.</span><span class='id identifier rubyid_now'>now</span>
  <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="#SwapRgb-constant" title="Bitmap::SwapRgb (constant)">SwapRgb</a></span></span>
    <span class='const'><span class='object_link'><a href="#SwapRgb-constant" title="Bitmap::SwapRgb (constant)">SwapRgb</a></span></span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_data2'>data2</span><span class='comma'>,</span><span class='id identifier rubyid_data2'>data2</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='comment'># the following is considerably slower
</span>    <span class='id identifier rubyid_b'>b</span><span class='op'>=</span><span class='int'>0</span><span class='semicolon'>;</span><span class='id identifier rubyid_c'>c</span><span class='op'>=</span><span class='int'>2</span><span class='semicolon'>;</span><span class='kw'>while</span> <span class='id identifier rubyid_b'>b</span><span class='op'>!=</span><span class='id identifier rubyid_len'>len</span>
      <span class='id identifier rubyid_data2'>data2</span><span class='lbracket'>[</span><span class='id identifier rubyid_b'>b</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='id identifier rubyid_c'>c</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_data2'>data2</span><span class='lbracket'>[</span><span class='id identifier rubyid_c'>c</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_data'>data</span><span class='lbracket'>[</span><span class='id identifier rubyid_b'>b</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_b'>b</span><span class='op'>+=</span><span class='int'>4</span><span class='semicolon'>;</span><span class='id identifier rubyid_c'>c</span><span class='op'>+=</span><span class='int'>4</span><span class='semicolon'>;</span> 
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'>#$times.push(Time.now-ttt)
</span>  <span class='id identifier rubyid_filter'>filter</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>\0</span><span class='tstring_end'>&quot;</span></span>
  <span class='kw'>while</span> <span class='id identifier rubyid_row'>row</span><span class='op'>&gt;=</span><span class='int'>0</span>
    <span class='id identifier rubyid_thisRow'>thisRow</span><span class='op'>=</span><span class='id identifier rubyid_data2'>data2</span><span class='lbracket'>[</span><span class='id identifier rubyid_row'>row</span><span class='comma'>,</span><span class='id identifier rubyid_bytesPerScan'>bytesPerScan</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_filter'>filter</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_thisRow'>thisRow</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_row'>row</span><span class='op'>-=</span><span class='id identifier rubyid_bytesPerScan'>bytesPerScan</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_x'>x</span><span class='op'>=</span><span class='const'>Zlib</span><span class='op'>::</span><span class='const'>Deflate</span><span class='period'>.</span><span class='id identifier rubyid_deflate'>deflate</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_length'>length</span><span class='op'>=</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
  <span class='id identifier rubyid_x'>x</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>IDAT</span><span class='tstring_end'>&quot;</span></span><span class='op'>+</span><span class='id identifier rubyid_x'>x</span>
  <span class='id identifier rubyid_crc'>crc</span><span class='op'>=</span><span class='const'>Zlib</span><span class='op'>::</span><span class='id identifier rubyid_crc32'>crc32</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_idat'>idat</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid_swap32'>swap32</span><span class='lparen'>(</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>V</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='id identifier rubyid_idat'>idat</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_idat'>idat</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_swap32'>swap32</span><span class='lparen'>(</span><span class='id identifier rubyid_crc'>crc</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>V</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_idat'>idat</span><span class='period'>.</span><span class='id identifier rubyid_concat'>concat</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0x49</span><span class='comma'>,</span><span class='int'>0x45</span><span class='comma'>,</span><span class='int'>0x4E</span><span class='comma'>,</span><span class='int'>0x44</span><span class='comma'>,</span><span class='int'>0xAE</span><span class='comma'>,</span><span class='int'>0x42</span><span class='comma'>,</span><span class='int'>0x60</span><span class='comma'>,</span><span class='int'>0x82</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_pack'>pack</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>VCCCCCCCC</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="File.html" title="File (class)">File</a></span></span><span class='period'>.</span><span class='id identifier rubyid_open'>open</span><span class='lparen'>(</span><span class='id identifier rubyid_filename'>filename</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>wb</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_f'>f</span><span class='op'>|</span>
     <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_bytes'>bytes</span><span class='rparen'>)</span>
     <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_ihdr'>ihdr</span><span class='rparen'>)</span>
     <span class='id identifier rubyid_f'>f</span><span class='period'>.</span><span class='id identifier rubyid_write'>write</span><span class='lparen'>(</span><span class='id identifier rubyid_idat'>idat</span><span class='rparen'>)</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="setData-instance_method">
  
    #<strong>setData</strong>(x)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


669
670
671</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/Sprite_Resizer.rb', line 669</span>

<span class='kw'>def</span> <span class='id identifier rubyid_setData'>setData</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='const'><span class='object_link'><a href="#RtlMoveMemory_ip-constant" title="Bitmap::RtlMoveMemory_ip (constant)">RtlMoveMemory_ip</a></span></span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_address'>address</span><span class='comma'>,</span> <span class='id identifier rubyid_x'>x</span><span class='comma'>,</span> <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rparen'>)</span>    
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="swap32-instance_method">
  
    #<strong>swap32</strong>(x)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


679
680
681
682
683
684</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/Sprite_Resizer.rb', line 679</span>

<span class='kw'>def</span> <span class='id identifier rubyid_swap32'>swap32</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='op'>&gt;&gt;</span><span class='int'>24</span><span class='rparen'>)</span><span class='op'>&amp;</span><span class='int'>0x000000FF</span><span class='rparen'>)</span><span class='op'>|</span>
         <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='op'>&gt;&gt;</span><span class='int'>8</span><span class='rparen'>)</span><span class='op'>&amp;</span><span class='int'>0x0000FF00</span><span class='rparen'>)</span><span class='op'>|</span>
         <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='op'>&lt;&lt;</span><span class='int'>8</span><span class='rparen'>)</span><span class='op'>&amp;</span><span class='int'>0x00FF0000</span><span class='rparen'>)</span><span class='op'>|</span>        
         <span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_x'>x</span><span class='op'>&lt;&lt;</span><span class='int'>24</span><span class='rparen'>)</span><span class='op'>&amp;</span><span class='int'>0xFF000000</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu May 19 20:12:31 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-2.7.5).
</div>

    </div>
  </body>
</html>