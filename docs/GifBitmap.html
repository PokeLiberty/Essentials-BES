<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: GifBitmap
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "GifBitmap";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (G)</a> &raquo;
    
    
    <span class="title">GifBitmap</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: GifBitmap
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">GifBitmap</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>scripts/SpriteWindow.rb</dd>
  </dl>
  
</div>

<h2>Overview</h2><div class="docstring">
  <div class="discussion">
    
<p>internal class</p>


  </div>
</div>
<div class="tags">
  

</div>



  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#gifbitmaps-instance_method" title="#gifbitmaps (instance method)">#<strong>gifbitmaps</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>internal.</p>
</div></span>
  
</li>

    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#gifdelays-instance_method" title="#gifdelays (instance method)">#<strong>gifdelays</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>internal.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#[]-instance_method" title="#[] (instance method)">#<strong>[]</strong>(index)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#bitmap-instance_method" title="#bitmap (instance method)">#<strong>bitmap</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#copy-instance_method" title="#copy (instance method)">#<strong>copy</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#currentIndex-instance_method" title="#currentIndex (instance method)">#<strong>currentIndex</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#deanimate-instance_method" title="#deanimate (instance method)">#<strong>deanimate</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#dispose-instance_method" title="#dispose (instance method)">#<strong>dispose</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#disposed%3F-instance_method" title="#disposed? (instance method)">#<strong>disposed?</strong>  &#x21d2; Boolean </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#each-instance_method" title="#each (instance method)">#<strong>each</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#frameDelay-instance_method" title="#frameDelay (instance method)">#<strong>frameDelay</strong>(index)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#height-instance_method" title="#height (instance method)">#<strong>height</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(file, hue = 0)  &#x21d2; GifBitmap </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Creates a bitmap from a GIF file with the specified optional viewport.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#length-instance_method" title="#length (instance method)">#<strong>length</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#totalFrames-instance_method" title="#totalFrames (instance method)">#<strong>totalFrames</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#update-instance_method" title="#update (instance method)">#<strong>update</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>This function must be called in order to animate the GIF image.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#width-instance_method" title="#width (instance method)">#<strong>width</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(file, hue = 0)  &#x21d2; <tt><span class='object_link'><a href="" title="GifBitmap (class)">GifBitmap</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Creates a bitmap from a GIF file with the specified optional viewport.  Can also load non-animated bitmaps.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


763
764
765
766
767
768
769
770
771
772
773
774
775
776
777
778
779
780
781
782
783
784
785
786
787
788
789
790
791
792
793
794
795
796
797
798
799
800
801
802
803
804
805
806
807
808
809
810
811
812
813
814
815
816
817
818
819
820
821
822
823
824
825
826
827
828
829
830
831
832
833
834
835
836
837
838
839
840
841
842
843
844
845
846</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 763</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span><span class='id identifier rubyid_hue'>hue</span><span class='op'>=</span><span class='int'>0</span><span class='rparen'>)</span>
  <span class='ivar'>@gifbitmaps</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@gifdelays</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@totalframes</span><span class='op'>=</span><span class='int'>0</span>
  <span class='ivar'>@framecount</span><span class='op'>=</span><span class='int'>0</span>
  <span class='ivar'>@currentIndex</span><span class='op'>=</span><span class='int'>0</span>
  <span class='ivar'>@disposed</span><span class='op'>=</span><span class='kw'>false</span>
  <span class='id identifier rubyid_bitmap'>bitmap</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='id identifier rubyid_filestring'>filestring</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='id identifier rubyid_filestrName'>filestrName</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='id identifier rubyid_file'>file</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_file'>file</span>
  <span class='id identifier rubyid_file'>file</span><span class='op'>=</span><span class='id identifier rubyid_canonicalize'>canonicalize</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span>
  <span class='kw'>begin</span>
    <span class='id identifier rubyid_bitmap'>bitmap</span><span class='op'>=</span><span class='const'>BitmapCache</span><span class='period'>.</span><span class='id identifier rubyid_load_bitmap'>load_bitmap</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span><span class='id identifier rubyid_hue'>hue</span><span class='rparen'>)</span>
  <span class='kw'>rescue</span>
    <span class='id identifier rubyid_bitmap'>bitmap</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_bitmap'>bitmap</span> <span class='op'>||</span> <span class='lparen'>(</span><span class='id identifier rubyid_bitmap'>bitmap</span><span class='period'>.</span><span class='id identifier rubyid_width'>width</span><span class='op'>==</span><span class='int'>32</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_bitmap'>bitmap</span><span class='period'>.</span><span class='id identifier rubyid_height'>height</span><span class='op'>==</span><span class='int'>32</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_file'>file</span> <span class='op'>||</span> <span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>&lt;</span><span class='int'>1</span> <span class='op'>||</span> <span class='id identifier rubyid_file'>file</span><span class='lbracket'>[</span><span class='id identifier rubyid_file'>file</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>!=</span><span class='int'>0x2F</span>
      <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_filestring'>filestring</span><span class='op'>=</span><span class='id identifier rubyid_pbGetFileChar'>pbGetFileChar</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_filestrName'>filestrName</span><span class='op'>=</span><span class='id identifier rubyid_file'>file</span>
      <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_filestring'>filestring</span><span class='op'>=</span><span class='id identifier rubyid_pbGetFileChar'>pbGetFileChar</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.gif</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_filestrName'>filestrName</span><span class='op'>=</span><span class='id identifier rubyid_file'>file</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.gif</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_filestring'>filestring</span><span class='op'>=</span><span class='id identifier rubyid_pbGetFileChar'>pbGetFileChar</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.png</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_filestrName'>filestrName</span><span class='op'>=</span><span class='id identifier rubyid_file'>file</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.png</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_filestring'>filestring</span><span class='op'>=</span><span class='id identifier rubyid_pbGetFileChar'>pbGetFileChar</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.jpg</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_filestrName'>filestrName</span><span class='op'>=</span><span class='id identifier rubyid_file'>file</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.jpg</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_filestring'>filestring</span><span class='op'>=</span><span class='id identifier rubyid_pbGetFileChar'>pbGetFileChar</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.bmp</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_filestrName'>filestrName</span><span class='op'>=</span><span class='id identifier rubyid_file'>file</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>.bmp</span><span class='tstring_end'>&quot;</span></span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_bitmap'>bitmap</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_filestring'>filestring</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_filestring'>filestring</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>==</span><span class='int'>0x47</span> <span class='op'>&amp;&amp;</span>
     <span class='id identifier rubyid_bitmap'>bitmap</span><span class='period'>.</span><span class='id identifier rubyid_width'>width</span><span class='op'>==</span><span class='int'>32</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_bitmap'>bitmap</span><span class='period'>.</span><span class='id identifier rubyid_height'>height</span><span class='op'>==</span><span class='int'>32</span>
    <span class='comment'>#File.open(&quot;debug.txt&quot;,&quot;ab&quot;){|f| f.puts(&quot;rejecting bitmap&quot;) }
</span>    <span class='id identifier rubyid_bitmap'>bitmap</span><span class='period'>.</span><span class='id identifier rubyid_dispose'>dispose</span>
    <span class='id identifier rubyid_bitmap'>bitmap</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='kw'>end</span> 
  <span class='kw'>if</span> <span class='id identifier rubyid_bitmap'>bitmap</span>
    <span class='comment'>#File.open(&quot;debug.txt&quot;,&quot;ab&quot;){|f| f.puts(&quot;reusing bitmap&quot;) }
</span>    <span class='comment'># Have a regular non-animated bitmap
</span>    <span class='ivar'>@totalframes</span><span class='op'>=</span><span class='int'>1</span>
    <span class='ivar'>@framecount</span><span class='op'>=</span><span class='int'>0</span>
    <span class='ivar'>@gifbitmaps</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid_bitmap'>bitmap</span><span class='rbracket'>]</span>
    <span class='ivar'>@gifdelays</span><span class='op'>=</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_tmpBase'>tmpBase</span><span class='op'>=</span><span class='const'>File</span><span class='period'>.</span><span class='id identifier rubyid_basename'>basename</span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='rparen'>)</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>_tmp_</span><span class='tstring_end'>&quot;</span></span>
    <span class='id identifier rubyid_filestring'>filestring</span><span class='op'>=</span><span class='id identifier rubyid_pbGetFileString'>pbGetFileString</span><span class='lparen'>(</span><span class='id identifier rubyid_filestrName'>filestrName</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_filestring'>filestring</span>
    <span class='const'>Dir</span><span class='period'>.</span><span class='id identifier rubyid_chdir'>chdir</span><span class='lparen'>(</span><span class='const'>ENV</span><span class='lbracket'>[</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TEMP</span><span class='tstring_end'>&quot;</span></span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='lbrace'>{</span> <span class='comment'># navigate to temp folder since game might be on a CD-ROM
</span>       <span class='kw'>if</span> <span class='id identifier rubyid_filestring'>filestring</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_filestring'>filestring</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>==</span><span class='int'>0x47</span> <span class='op'>&amp;&amp;</span> <span class='const'><span class='object_link'><a href="GifLibrary.html" title="GifLibrary (module)">GifLibrary</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="GifLibrary.html#PngDll-constant" title="GifLibrary::PngDll (constant)">PngDll</a></span></span>
         <span class='id identifier rubyid_result'>result</span><span class='op'>=</span><span class='const'>GifLibrary</span><span class='op'>::</span><span class='const'>GifToPngFilesInMemory</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_filestring'>filestring</span><span class='comma'>,</span>
            <span class='id identifier rubyid_filestring'>filestring</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='comma'>,</span><span class='id identifier rubyid_tmpBase'>tmpBase</span><span class='rparen'>)</span>
       <span class='kw'>else</span>
         <span class='id identifier rubyid_result'>result</span><span class='op'>=</span><span class='int'>0</span>
       <span class='kw'>end</span>
       <span class='kw'>if</span> <span class='id identifier rubyid_result'>result</span><span class='op'>&gt;</span><span class='int'>0</span>
         <span class='ivar'>@gifdelays</span><span class='op'>=</span><span class='const'><span class='object_link'><a href="GifLibrary.html" title="GifLibrary (module)">GifLibrary</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getDataFromResult'><span class='object_link'><a href="GifLibrary.html#getDataFromResult-class_method" title="GifLibrary.getDataFromResult (method)">getDataFromResult</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_result'>result</span><span class='rparen'>)</span>
         <span class='ivar'>@totalframes</span><span class='op'>=</span><span class='ivar'>@gifdelays</span><span class='period'>.</span><span class='id identifier rubyid_pop'>pop</span>
         <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='ivar'>@gifdelays</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
           <span class='ivar'>@gifdelays</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='lbracket'>[</span><span class='ivar'>@gifdelays</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
           <span class='id identifier rubyid_bmfile'>bmfile</span><span class='op'>=</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>%s%d.png</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_tmpBase'>tmpBase</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span>
           <span class='kw'>if</span> <span class='id identifier rubyid_safeExists?'><span class='object_link'><a href="top-level-namespace.html#safeExists%3F-instance_method" title="#safeExists? (method)">safeExists?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_bmfile'>bmfile</span><span class='rparen'>)</span>
             <span class='id identifier rubyid_gifbitmap'>gifbitmap</span><span class='op'>=</span><span class='const'>BitmapWrapper</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_bmfile'>bmfile</span><span class='rparen'>)</span>
             <span class='ivar'>@gifbitmaps</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_gifbitmap'>gifbitmap</span><span class='rparen'>)</span>
             <span class='id identifier rubyid_bmfile'>bmfile</span><span class='period'>.</span><span class='id identifier rubyid_hue_change'>hue_change</span><span class='lparen'>(</span><span class='id identifier rubyid_hue'>hue</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_hue'>hue</span><span class='op'>!=</span><span class='int'>0</span>
             <span class='kw'>if</span> <span class='id identifier rubyid_hue'>hue</span><span class='op'>==</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='ivar'>@gifdelays</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>==</span><span class='int'>1</span>
               <span class='const'><span class='object_link'><a href="BitmapCache.html" title="BitmapCache (module)">BitmapCache</a></span></span><span class='period'>.</span><span class='id identifier rubyid_setKey'><span class='object_link'><a href="BitmapCache.html#setKey-class_method" title="BitmapCache.setKey (method)">setKey</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span><span class='id identifier rubyid_gifbitmap'>gifbitmap</span><span class='rparen'>)</span>
             <span class='kw'>end</span>
             <span class='const'><span class='object_link'><a href="File.html" title="File (class)">File</a></span></span><span class='period'>.</span><span class='id identifier rubyid_delete'>delete</span><span class='lparen'>(</span><span class='id identifier rubyid_bmfile'>bmfile</span><span class='rparen'>)</span>
           <span class='kw'>else</span>
             <span class='ivar'>@gifbitmaps</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="BitmapWrapper.html" title="BitmapWrapper (class)">BitmapWrapper</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="BitmapWrapper.html#initialize-instance_method" title="BitmapWrapper#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='int'>32</span><span class='comma'>,</span><span class='int'>32</span><span class='rparen'>)</span><span class='rparen'>)</span>
           <span class='kw'>end</span>
         <span class='kw'>end</span>
       <span class='kw'>end</span>
    <span class='rbrace'>}</span>
    <span class='kw'>if</span> <span class='ivar'>@gifbitmaps</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>==</span><span class='int'>0</span>
      <span class='ivar'>@gifbitmaps</span><span class='op'>=</span><span class='lbracket'>[</span><span class='const'><span class='object_link'><a href="BitmapWrapper.html" title="BitmapWrapper (class)">BitmapWrapper</a></span></span><span class='period'>.</span><span class='id identifier rubyid_new'><span class='object_link'><a href="BitmapWrapper.html#initialize-instance_method" title="BitmapWrapper#initialize (method)">new</a></span></span><span class='lparen'>(</span><span class='int'>32</span><span class='comma'>,</span><span class='int'>32</span><span class='rparen'>)</span><span class='rbracket'>]</span>
      <span class='ivar'>@gifdelays</span><span class='op'>=</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='ivar'>@gifbitmaps</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>==</span><span class='int'>1</span>
      <span class='const'><span class='object_link'><a href="BitmapCache.html" title="BitmapCache (module)">BitmapCache</a></span></span><span class='period'>.</span><span class='id identifier rubyid_setKey'><span class='object_link'><a href="BitmapCache.html#setKey-class_method" title="BitmapCache.setKey (method)">setKey</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_file'>file</span><span class='comma'>,</span><span class='ivar'>@gifbitmaps</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id="gifbitmaps=-instance_method"></span>
      <div class="method_details first">
  <h3 class="signature first" id="gifbitmaps-instance_method">
  
    #<strong>gifbitmaps</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>internal</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


924
925
926</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 924</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gifbitmaps'>gifbitmaps</span>
  <span class='ivar'>@gifbitmaps</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      
      <span id="gifdelays=-instance_method"></span>
      <div class="method_details ">
  <h3 class="signature " id="gifdelays-instance_method">
  
    #<strong>gifdelays</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>internal</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


925
926
927</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 925</span>

<span class='kw'>def</span> <span class='id identifier rubyid_gifdelays'>gifdelays</span>
  <span class='ivar'>@gifdelays</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="[]-instance_method">
  
    #<strong>[]</strong>(index)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


848
849
850</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 848</span>

<span class='kw'>def</span> <span class='op'>[]</span><span class='lparen'>(</span><span class='id identifier rubyid_index'>index</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='ivar'>@gifbitmaps</span><span class='lbracket'>[</span><span class='id identifier rubyid_index'>index</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="bitmap-instance_method">
  
    #<strong>bitmap</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


865
866
867</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 865</span>

<span class='kw'>def</span> <span class='id identifier rubyid_bitmap'>bitmap</span>
  <span class='ivar'>@gifbitmaps</span><span class='lbracket'>[</span><span class='ivar'>@currentIndex</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="copy-instance_method">
  
    #<strong>copy</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


927
928
929
930
931
932
933
934
935</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 927</span>

<span class='kw'>def</span> <span class='id identifier rubyid_copy'>copy</span>
  <span class='id identifier rubyid_x'>x</span><span class='op'>=</span><span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span>
  <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_gifbitmaps'>gifbitmaps</span><span class='op'>=</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_gifbitmaps'>gifbitmaps</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span>
  <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_gifdelays'>gifdelays</span><span class='op'>=</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_gifdelays'>gifdelays</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_gifbitmaps'>gifbitmaps</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_gifbitmaps'>gifbitmaps</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_x'>x</span><span class='period'>.</span><span class='id identifier rubyid_gifbitmaps'>gifbitmaps</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_copy'>copy</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_x'>x</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="currentIndex-instance_method">
  
    #<strong>currentIndex</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


869
870
871</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 869</span>

<span class='kw'>def</span> <span class='id identifier rubyid_currentIndex'>currentIndex</span>
  <span class='ivar'>@currentIndex</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="deanimate-instance_method">
  
    #<strong>deanimate</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


856
857
858
859
860
861
862
863</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 856</span>

<span class='kw'>def</span> <span class='id identifier rubyid_deanimate'>deanimate</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>1</span><span class='op'>...</span><span class='ivar'>@gifbitmaps</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='ivar'>@gifbitmaps</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_dispose'>dispose</span>
  <span class='kw'>end</span>
  <span class='ivar'>@gifbitmaps</span><span class='op'>=</span><span class='lbracket'>[</span><span class='ivar'>@gifbitmaps</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
  <span class='ivar'>@currentIndex</span><span class='op'>=</span><span class='int'>0</span>
  <span class='kw'>return</span> <span class='ivar'>@gifbitmaps</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="dispose-instance_method">
  
    #<strong>dispose</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


915
916
917
918
919
920
921
922</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 915</span>

<span class='kw'>def</span> <span class='id identifier rubyid_dispose'>dispose</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@disposed</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='ivar'>@gifbitmaps</span>
      <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_dispose'>dispose</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@disposed</span><span class='op'>=</span><span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="disposed?-instance_method">
  
    #<strong>disposed?</strong>  &#x21d2; <tt>Boolean</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    

  </div>
</div>
<div class="tags">
  
<p class="tag_title">Returns:</p>
<ul class="return">
  
    <li>
      
      
        <span class='type'>(<tt>Boolean</tt>)</span>
      
      
      
    </li>
  
</ul>

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


889
890
891</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 889</span>

<span class='kw'>def</span> <span class='id identifier rubyid_disposed?'>disposed?</span>
  <span class='ivar'>@disposed</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="each-instance_method">
  
    #<strong>each</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


881
882
883</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 881</span>

<span class='kw'>def</span> <span class='id identifier rubyid_each'>each</span>
  <span class='ivar'>@gifbitmaps</span><span class='period'>.</span><span class='id identifier rubyid_each'>each</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_item'>item</span><span class='op'>|</span> <span class='kw'>yield</span> <span class='id identifier rubyid_item'>item</span> <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="frameDelay-instance_method">
  
    #<strong>frameDelay</strong>(index)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


873
874
875</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 873</span>

<span class='kw'>def</span> <span class='id identifier rubyid_frameDelay'>frameDelay</span><span class='lparen'>(</span><span class='id identifier rubyid_index'>index</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='ivar'>@gifdelay</span><span class='lbracket'>[</span><span class='id identifier rubyid_index'>index</span><span class='rbracket'>]</span><span class='op'>/</span><span class='int'>2</span> <span class='comment'># Due to frame count being incremented by 2
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="height-instance_method">
  
    #<strong>height</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


854</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 854</span>

<span class='kw'>def</span> <span class='id identifier rubyid_height'>height</span><span class='semicolon'>;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_bitmap'>bitmap</span><span class='period'>.</span><span class='id identifier rubyid_height'>height</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="length-instance_method">
  
    #<strong>length</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


877
878
879</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 877</span>

<span class='kw'>def</span> <span class='id identifier rubyid_length'>length</span>
  <span class='ivar'>@gifbitmaps</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="totalFrames-instance_method">
  
    #<strong>totalFrames</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


885
886
887</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 885</span>

<span class='kw'>def</span> <span class='id identifier rubyid_totalFrames'>totalFrames</span>
  <span class='ivar'>@totalframes</span><span class='op'>/</span><span class='int'>2</span> <span class='comment'># Due to frame count being incremented by 2
</span><span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="update-instance_method">
  
    #<strong>update</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>This function must be called in order to animate the GIF image.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


902
903
904
905
906
907
908
909
910
911
912
913</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 902</span>

<span class='kw'>def</span> <span class='id identifier rubyid_update'>update</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_disposed?'>disposed?</span>
  <span class='kw'>if</span> <span class='ivar'>@gifbitmaps</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>&gt;</span><span class='int'>0</span>
    <span class='ivar'>@framecount</span><span class='op'>+=</span><span class='int'>2</span>
    <span class='ivar'>@framecount</span><span class='op'>=</span><span class='ivar'>@totalframes</span><span class='op'>&lt;=</span><span class='int'>0</span> <span class='op'>?</span> <span class='int'>0</span> <span class='op'>:</span> <span class='ivar'>@framecount</span><span class='op'>%</span><span class='ivar'>@totalframes</span>
    <span class='id identifier rubyid_frametoshow'>frametoshow</span><span class='op'>=</span><span class='int'>0</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='ivar'>@gifdelays</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='id identifier rubyid_frametoshow'>frametoshow</span><span class='op'>=</span><span class='id identifier rubyid_i'>i</span> <span class='kw'>if</span> <span class='ivar'>@gifdelays</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>&lt;=</span><span class='ivar'>@framecount</span>
    <span class='kw'>end</span>
    <span class='ivar'>@currentIndex</span><span class='op'>=</span><span class='id identifier rubyid_frametoshow'>frametoshow</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="width-instance_method">
  
    #<strong>width</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


852</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/SpriteWindow.rb', line 852</span>

<span class='kw'>def</span> <span class='id identifier rubyid_width'>width</span><span class='semicolon'>;</span> <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_bitmap'>bitmap</span><span class='period'>.</span><span class='id identifier rubyid_width'>width</span><span class='semicolon'>;</span> <span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu May 19 20:12:26 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-2.7.5).
</div>

    </div>
  </body>
</html>