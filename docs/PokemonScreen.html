<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: PokemonScreen
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "PokemonScreen";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (P)</a> &raquo;
    
    
    <span class="title">PokemonScreen</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: PokemonScreen
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">PokemonScreen</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>scripts/PScreen_Party.rb</dd>
  </dl>
  
</div>








  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>(scene, party)  &#x21d2; PokemonScreen </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of PokemonScreen.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbCheckItems-instance_method" title="#pbCheckItems (instance method)">#<strong>pbCheckItems</strong>(array)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Checks for identical held items.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbCheckSpecies-instance_method" title="#pbCheckSpecies (instance method)">#<strong>pbCheckSpecies</strong>(array)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Checks for identical species.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbChooseAblePokemon-instance_method" title="#pbChooseAblePokemon (instance method)">#<strong>pbChooseAblePokemon</strong>(ableProc, allowIneligible = false)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbChooseMove-instance_method" title="#pbChooseMove (instance method)">#<strong>pbChooseMove</strong>(pokemon, helptext)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbChoosePokemon-instance_method" title="#pbChoosePokemon (instance method)">#<strong>pbChoosePokemon</strong>(helptext = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbClearAnnotations-instance_method" title="#pbClearAnnotations (instance method)">#<strong>pbClearAnnotations</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbConfirm-instance_method" title="#pbConfirm (instance method)">#<strong>pbConfirm</strong>(text)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbDisplay-instance_method" title="#pbDisplay (instance method)">#<strong>pbDisplay</strong>(text)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbEndScene-instance_method" title="#pbEndScene (instance method)">#<strong>pbEndScene</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbGiveMail-instance_method" title="#pbGiveMail (instance method)">#<strong>pbGiveMail</strong>(item, pkmn, pkmnid = 0)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbHardRefresh-instance_method" title="#pbHardRefresh (instance method)">#<strong>pbHardRefresh</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbMailScreen-instance_method" title="#pbMailScreen (instance method)">#<strong>pbMailScreen</strong>(item, pkmn, pkmnid)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbPokemonDebug-instance_method" title="#pbPokemonDebug (instance method)">#<strong>pbPokemonDebug</strong>(pkmn, pkmnid)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbPokemonGiveMailScreen-instance_method" title="#pbPokemonGiveMailScreen (instance method)">#<strong>pbPokemonGiveMailScreen</strong>(mailIndex)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbPokemonGiveScreen-instance_method" title="#pbPokemonGiveScreen (instance method)">#<strong>pbPokemonGiveScreen</strong>(item)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbPokemonMultipleEntryScreenEx-instance_method" title="#pbPokemonMultipleEntryScreenEx (instance method)">#<strong>pbPokemonMultipleEntryScreenEx</strong>(ruleset)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbPokemonScreen-instance_method" title="#pbPokemonScreen (instance method)">#<strong>pbPokemonScreen</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbRefresh-instance_method" title="#pbRefresh (instance method)">#<strong>pbRefresh</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbRefreshAnnotations-instance_method" title="#pbRefreshAnnotations (instance method)">#<strong>pbRefreshAnnotations</strong>(ableProc)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>For after using an evolution stone.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbRefreshSingle-instance_method" title="#pbRefreshSingle (instance method)">#<strong>pbRefreshSingle</strong>(i)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbStartScene-instance_method" title="#pbStartScene (instance method)">#<strong>pbStartScene</strong>(helptext, doublebattle, annotations = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbSwitch-instance_method" title="#pbSwitch (instance method)">#<strong>pbSwitch</strong>(oldid, newid)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbTakeMail-instance_method" title="#pbTakeMail (instance method)">#<strong>pbTakeMail</strong>(pkmn)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>(scene, party)  &#x21d2; <tt><span class='object_link'><a href="" title="PokemonScreen (class)">PokemonScreen</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of PokemonScreen.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


828
829
830
831</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 828</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span><span class='lparen'>(</span><span class='id identifier rubyid_scene'>scene</span><span class='comma'>,</span><span class='id identifier rubyid_party'>party</span><span class='rparen'>)</span>
  <span class='ivar'>@party</span><span class='op'>=</span><span class='id identifier rubyid_party'>party</span>
  <span class='ivar'>@scene</span><span class='op'>=</span><span class='id identifier rubyid_scene'>scene</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="pbCheckItems-instance_method">
  
    #<strong>pbCheckItems</strong>(array)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Checks for identical held items</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1035
1036
1037
1038
1039
1040
1041
1042
1043</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 1035</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbCheckItems'>pbCheckItems</span><span class='lparen'>(</span><span class='id identifier rubyid_array'>array</span><span class='rparen'>)</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_array'>array</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_hasItem?'>hasItem?</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_j'>j</span> <span class='kw'>in</span> <span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>1</span><span class='op'>...</span><span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_array'>array</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='op'>==</span><span class='id identifier rubyid_array'>array</span><span class='lbracket'>[</span><span class='id identifier rubyid_j'>j</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbCheckSpecies-instance_method">
  
    #<strong>pbCheckSpecies</strong>(array)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Checks for identical species</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1025
1026
1027
1028
1029
1030
1031
1032</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 1025</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbCheckSpecies'>pbCheckSpecies</span><span class='lparen'>(</span><span class='id identifier rubyid_array'>array</span><span class='rparen'>)</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_j'>j</span> <span class='kw'>in</span> <span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>1</span><span class='op'>...</span><span class='id identifier rubyid_array'>array</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_array'>array</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='op'>==</span><span class='id identifier rubyid_array'>array</span><span class='lbracket'>[</span><span class='id identifier rubyid_j'>j</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='kw'>true</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbChooseAblePokemon-instance_method">
  
    #<strong>pbChooseAblePokemon</strong>(ableProc, allowIneligible = false)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1146
1147
1148
1149
1150
1151
1152
1153
1154
1155
1156
1157
1158
1159
1160
1161
1162
1163
1164
1165
1166
1167
1168
1169
1170
1171
1172</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 1146</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbChooseAblePokemon'>pbChooseAblePokemon</span><span class='lparen'>(</span><span class='id identifier rubyid_ableProc'>ableProc</span><span class='comma'>,</span><span class='id identifier rubyid_allowIneligible'>allowIneligible</span><span class='op'>=</span><span class='kw'>false</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_annot'>annot</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_eligibility'>eligibility</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_pkmn'>pkmn</span> <span class='kw'>in</span> <span class='ivar'>@party</span>
    <span class='id identifier rubyid_elig'>elig</span><span class='op'>=</span><span class='id identifier rubyid_ableProc'>ableProc</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_eligibility'>eligibility</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_elig'>elig</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_annot'>annot</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_elig'>elig</span> <span class='op'>?</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUEDE</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NO PUEDE</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_ret'>ret</span><span class='op'>=</span><span class='op'>-</span><span class='int'>1</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbStartScene'>pbStartScene</span><span class='lparen'>(</span><span class='ivar'>@party</span><span class='comma'>,</span>
     <span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>&gt;</span><span class='int'>1</span> <span class='op'>?</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elije un Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elije un Pokémon o cancela.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_annot'>annot</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSetHelpText'>pbSetHelpText</span><span class='lparen'>(</span>
       <span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>&gt;</span><span class='int'>1</span> <span class='op'>?</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elije un Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elije un Pokémon o cancela.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbChoosePokemon'>pbChoosePokemon</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>&lt;</span><span class='int'>0</span>
      <span class='kw'>break</span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_eligibility'>eligibility</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_allowIneligible'>allowIneligible</span>
      <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Este Pokémon no puede ser elegido.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_ret'>ret</span><span class='op'>=</span><span class='id identifier rubyid_pkmnid'>pkmnid</span>
      <span class='kw'>break</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbEndScene'>pbEndScene</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_ret'>ret</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbChooseMove-instance_method">
  
    #<strong>pbChooseMove</strong>(pokemon, helptext)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1007
1008
1009
1010
1011
1012
1013
1014
1015
1016
1017
1018</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 1007</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbChooseMove'>pbChooseMove</span><span class='lparen'>(</span><span class='id identifier rubyid_pokemon'>pokemon</span><span class='comma'>,</span><span class='id identifier rubyid_helptext'>helptext</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_movenames'>movenames</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='id identifier rubyid_pokemon'>pokemon</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span>
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='op'>==</span><span class='int'>0</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_totalpp'>totalpp</span><span class='op'>==</span><span class='int'>0</span>
      <span class='id identifier rubyid_movenames'>movenames</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} (PP: ---)</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBMoves.html" title="PBMoves (class)">PBMoves</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBMoves.html#getName-class_method" title="PBMoves.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_pp'>pp</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_totalpp'>totalpp</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_movenames'>movenames</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} (PP: {2}/{3})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBMoves.html" title="PBMoves (class)">PBMoves</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBMoves.html#getName-class_method" title="PBMoves.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_pp'>pp</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='period'>.</span><span class='id identifier rubyid_totalpp'>totalpp</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid_helptext'>helptext</span><span class='comma'>,</span><span class='id identifier rubyid_movenames'>movenames</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbChoosePokemon-instance_method">
  
    #<strong>pbChoosePokemon</strong>(helptext = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1002
1003
1004
1005</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 1002</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbChoosePokemon'>pbChoosePokemon</span><span class='lparen'>(</span><span class='id identifier rubyid_helptext'>helptext</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSetHelpText'>pbSetHelpText</span><span class='lparen'>(</span><span class='id identifier rubyid_helptext'>helptext</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_helptext'>helptext</span>
  <span class='kw'>return</span> <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbChoosePokemon'>pbChoosePokemon</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbClearAnnotations-instance_method">
  
    #<strong>pbClearAnnotations</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1183
1184
1185</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 1183</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbClearAnnotations'>pbClearAnnotations</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbAnnotate'>pbAnnotate</span><span class='lparen'>(</span><span class='kw'>nil</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbConfirm-instance_method">
  
    #<strong>pbConfirm</strong>(text)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


849
850
851</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 849</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbConfirm'>pbConfirm</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbDisplayConfirm'>pbDisplayConfirm</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbDisplay-instance_method">
  
    #<strong>pbDisplay</strong>(text)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


845
846
847</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 845</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid_text'>text</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbEndScene-instance_method">
  
    #<strong>pbEndScene</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1020
1021
1022</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 1020</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbEndScene'>pbEndScene</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbEndScene'>pbEndScene</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbGiveMail-instance_method">
  
    #<strong>pbGiveMail</strong>(item, pkmn, pkmnid = 0)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


918
919
920
921
922
923
924
925
926
927
928
929
930
931
932
933
934
935
936
937
938
939
940
941
942
943
944
945
946
947
948
949
950
951
952
953
954
955
956
957
958
959
960
961
962
963
964</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 918</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbGiveMail'>pbGiveMail</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>=</span><span class='int'>0</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_thisitemname'>thisitemname</span><span class='op'>=</span><span class='const'>PBItems</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isEgg?'>isEgg?</span>
    <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Los huevos no pueden llevar objetos.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_mail'>mail</span>
    <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Quitar la carta de {1} antes de darle otro objeto.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>false</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='op'>!=</span><span class='int'>0</span>
    <span class='id identifier rubyid_itemname'>itemname</span><span class='op'>=</span><span class='const'>PBItems</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¡{1} ya lleva una unidad de {2}.\1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_itemname'>itemname</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_pbConfirm'>pbConfirm</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Quieres cambiar un objeto por el otro?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='gvar'>$PokemonBag</span><span class='period'>.</span><span class='id identifier rubyid_pbDeleteItem'>pbDeleteItem</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='gvar'>$PokemonBag</span><span class='period'>.</span><span class='id identifier rubyid_pbStoreItem'>pbStoreItem</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='op'>!</span><span class='gvar'>$PokemonBag</span><span class='period'>.</span><span class='id identifier rubyid_pbStoreItem'>pbStoreItem</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span> <span class='comment'># Compensate
</span>          <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No se puede recuperar objeto descartado de la mochila</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La Mochila está llena. No se puede quitar el objeto del Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_pbIsMail?'><span class='object_link'><a href="top-level-namespace.html#pbIsMail%3F-instance_method" title="#pbIsMail? (method)">pbIsMail?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_pbMailScreen'>pbMailScreen</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setItem'>setItem</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¡Se ha sustituido {1} por {2}!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_itemname'>itemname</span><span class='comma'>,</span><span class='id identifier rubyid_thisitemname'>thisitemname</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>return</span> <span class='kw'>true</span>
          <span class='kw'>else</span>
            <span class='kw'>if</span> <span class='op'>!</span><span class='gvar'>$PokemonBag</span><span class='period'>.</span><span class='id identifier rubyid_pbStoreItem'>pbStoreItem</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span> <span class='comment'># Compensate
</span>              <span class='id identifier rubyid_raise'>raise</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No se puede recuperar objeto descartado de la mochila.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setItem'>setItem</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¡Se ha sustituido {1} por {2}!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_itemname'>itemname</span><span class='comma'>,</span><span class='id identifier rubyid_thisitemname'>thisitemname</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='kw'>return</span> <span class='kw'>true</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_pbIsMail?'><span class='object_link'><a href="top-level-namespace.html#pbIsMail%3F-instance_method" title="#pbIsMail? (method)">pbIsMail?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_pbMailScreen'>pbMailScreen</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span> <span class='comment'># Open the mail screen if necessary
</span>      <span class='gvar'>$PokemonBag</span><span class='period'>.</span><span class='id identifier rubyid_pbDeleteItem'>pbDeleteItem</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setItem'>setItem</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¡{1} lleva ahora {2}!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_thisitemname'>thisitemname</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>true</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='kw'>false</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbHardRefresh-instance_method">
  
    #<strong>pbHardRefresh</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


833
834
835</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 833</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbHardRefresh'>pbHardRefresh</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbHardRefresh'>pbHardRefresh</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbMailScreen-instance_method">
  
    #<strong>pbMailScreen</strong>(item, pkmn, pkmnid)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


863
864
865
866
867
868
869
870
871
872
873
874
875
876
877
878
879
880
881
882
883
884
885
886
887
888
889</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 863</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbMailScreen'>pbMailScreen</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_message'>message</span><span class='op'>=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_message'>message</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbMessageFreeText'>pbMessageFreeText</span><span class='lparen'>(</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ingresa un mensaje (máx. de 256 caracteres).</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='int'>256</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_message'>message</span><span class='op'>!=</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span>
      <span class='comment'># Store mail if a message was written
</span>      <span class='id identifier rubyid_poke1'>poke1</span><span class='op'>=</span><span class='id identifier rubyid_poke2'>poke2</span><span class='op'>=</span><span class='id identifier rubyid_poke3'>poke3</span><span class='op'>=</span><span class='kw'>nil</span>
      <span class='kw'>if</span> <span class='gvar'>$Trainer</span><span class='period'>.</span><span class='id identifier rubyid_party'>party</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>+</span><span class='int'>2</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_p'>p</span><span class='op'>=</span><span class='gvar'>$Trainer</span><span class='period'>.</span><span class='id identifier rubyid_party'>party</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>+</span><span class='int'>2</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_poke1'>poke1</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='comma'>,</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_gender'>gender</span><span class='comma'>,</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_isShiny?'>isShiny?</span><span class='comma'>,</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_form'>form</span> <span class='kw'>rescue</span> <span class='int'>0</span><span class='rparen'>)</span><span class='comma'>,</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_isShadow?'>isShadow?</span> <span class='kw'>rescue</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_poke1'>poke1</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_isEgg?'>isEgg?</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='gvar'>$Trainer</span><span class='period'>.</span><span class='id identifier rubyid_party'>party</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>+</span><span class='int'>1</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_p'>p</span><span class='op'>=</span><span class='gvar'>$Trainer</span><span class='period'>.</span><span class='id identifier rubyid_party'>party</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>+</span><span class='int'>1</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_poke2'>poke2</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='comma'>,</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_gender'>gender</span><span class='comma'>,</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_isShiny?'>isShiny?</span><span class='comma'>,</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_form'>form</span> <span class='kw'>rescue</span> <span class='int'>0</span><span class='rparen'>)</span><span class='comma'>,</span><span class='lparen'>(</span><span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_isShadow?'>isShadow?</span> <span class='kw'>rescue</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_poke2'>poke2</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_p'>p</span><span class='period'>.</span><span class='id identifier rubyid_isEgg?'>isEgg?</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_poke3'>poke3</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_gender'>gender</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isShiny?'>isShiny?</span><span class='comma'>,</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_form'>form</span> <span class='kw'>rescue</span> <span class='int'>0</span><span class='rparen'>)</span><span class='comma'>,</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isShadow?'>isShadow?</span> <span class='kw'>rescue</span> <span class='kw'>false</span><span class='rparen'>)</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_poke3'>poke3</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isEgg?'>isEgg?</span>
      <span class='id identifier rubyid_pbStoreMail'><span class='object_link'><a href="top-level-namespace.html#pbStoreMail-instance_method" title="#pbStoreMail (method)">pbStoreMail</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span><span class='id identifier rubyid_message'>message</span><span class='comma'>,</span><span class='id identifier rubyid_poke1'>poke1</span><span class='comma'>,</span><span class='id identifier rubyid_poke2'>poke2</span><span class='comma'>,</span><span class='id identifier rubyid_poke3'>poke3</span><span class='rparen'>)</span>
      <span class='kw'>return</span> <span class='kw'>true</span>
    <span class='kw'>else</span>
      <span class='kw'>return</span> <span class='kw'>false</span> <span class='kw'>if</span> <span class='id identifier rubyid_pbConfirm'>pbConfirm</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Quieres dejar al Pokémon sin la carta?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbPokemonDebug-instance_method">
  
    #<strong>pbPokemonDebug</strong>(pkmn, pkmnid)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1187
1188
1189
1190
1191
1192
1193
1194
1195
1196
1197
1198
1199
1200
1201
1202
1203
1204
1205
1206
1207
1208
1209
1210
1211
1212
1213
1214
1215
1216
1217
1218
1219
1220
1221
1222
1223
1224
1225
1226
1227
1228
1229
1230
1231
1232
1233
1234
1235
1236
1237
1238
1239
1240
1241
1242
1243
1244
1245
1246
1247
1248
1249
1250
1251
1252
1253
1254
1255
1256
1257
1258
1259
1260
1261
1262
1263
1264
1265
1266
1267
1268
1269
1270
1271
1272
1273
1274
1275
1276
1277
1278
1279
1280
1281
1282
1283
1284
1285
1286
1287
1288
1289
1290
1291
1292
1293
1294
1295
1296
1297
1298
1299
1300
1301
1302
1303
1304
1305
1306
1307
1308
1309
1310
1311
1312
1313
1314
1315
1316
1317
1318
1319
1320
1321
1322
1323
1324
1325
1326
1327
1328
1329
1330
1331
1332
1333
1334
1335
1336
1337
1338
1339
1340
1341
1342
1343
1344
1345
1346
1347
1348
1349
1350
1351
1352
1353
1354
1355
1356
1357
1358
1359
1360
1361
1362
1363
1364
1365
1366
1367
1368
1369
1370
1371
1372
1373
1374
1375
1376
1377
1378
1379
1380
1381
1382
1383
1384
1385
1386
1387
1388
1389
1390
1391
1392
1393
1394
1395
1396
1397
1398
1399
1400
1401
1402
1403
1404
1405
1406
1407
1408
1409
1410
1411
1412
1413
1414
1415
1416
1417
1418
1419
1420
1421
1422
1423
1424
1425
1426
1427
1428
1429
1430
1431
1432
1433
1434
1435
1436
1437
1438
1439
1440
1441
1442
1443
1444
1445
1446
1447
1448
1449
1450
1451
1452
1453
1454
1455
1456
1457
1458
1459
1460
1461
1462
1463
1464
1465
1466
1467
1468
1469
1470
1471
1472
1473
1474
1475
1476
1477
1478
1479
1480
1481
1482
1483
1484
1485
1486
1487
1488
1489
1490
1491
1492
1493
1494
1495
1496
1497
1498
1499
1500
1501
1502
1503
1504
1505
1506
1507
1508
1509
1510
1511
1512
1513
1514
1515
1516
1517
1518
1519
1520
1521
1522
1523
1524
1525
1526
1527
1528
1529
1530
1531
1532
1533
1534
1535
1536
1537
1538
1539
1540
1541
1542
1543
1544
1545
1546
1547
1548
1549
1550
1551
1552
1553
1554
1555
1556
1557
1558
1559
1560
1561
1562
1563
1564
1565
1566
1567
1568
1569
1570
1571
1572
1573
1574
1575
1576
1577
1578
1579
1580
1581
1582
1583
1584
1585
1586
1587
1588
1589
1590
1591
1592
1593
1594
1595
1596
1597
1598
1599
1600
1601
1602
1603
1604
1605
1606
1607
1608
1609
1610
1611
1612
1613
1614
1615
1616
1617
1618
1619
1620
1621
1622
1623
1624
1625
1626
1627
1628
1629
1630
1631
1632
1633
1634
1635
1636
1637
1638
1639
1640
1641
1642
1643
1644
1645
1646
1647
1648
1649
1650
1651
1652
1653
1654
1655
1656
1657
1658
1659
1660
1661
1662
1663
1664
1665
1666
1667
1668
1669
1670
1671
1672
1673
1674
1675
1676
1677
1678
1679
1680
1681
1682
1683
1684
1685
1686
1687
1688
1689
1690
1691
1692
1693
1694
1695
1696
1697
1698
1699
1700
1701
1702
1703
1704
1705
1706
1707
1708
1709
1710
1711
1712
1713
1714
1715
1716
1717
1718
1719
1720
1721
1722
1723
1724
1725
1726
1727
1728
1729
1730
1731
1732
1733
1734
1735
1736
1737
1738
1739
1740
1741
1742
1743
1744
1745
1746
1747
1748
1749
1750
1751
1752
1753
1754
1755
1756
1757
1758
1759
1760
1761
1762
1763
1764
1765
1766
1767
1768
1769
1770
1771
1772
1773
1774
1775
1776
1777
1778
1779
1780
1781
1782
1783
1784
1785
1786
1787
1788
1789
1790
1791
1792
1793
1794
1795
1796
1797
1798
1799
1800
1801
1802
1803
1804
1805
1806
1807
1808
1809
1810
1811
1812</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 1187</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbPokemonDebug'>pbPokemonDebug</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_command'>command</span><span class='op'>=</span><span class='int'>0</span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_command'>command</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Qué hacer con {1}?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span><span class='lbracket'>[</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PS/Estado</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Nivel</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Especie</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Movimientos</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Género</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Habilidad</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Naturaleza</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Shininess</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Forma</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Felicidad</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EV/IV/pID</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pokérus</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>EO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Apodo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Poké Ball</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Cintas</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Huevo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pokémon Oscuro</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hacer Reg. Mist.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Duplicar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Borrar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
       <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Salir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_command'>command</span><span class='rparen'>)</span>
    <span class='kw'>case</span> <span class='id identifier rubyid_command'>command</span>
    <span class='comment'>### Cancel ###
</span>    <span class='kw'>when</span> <span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span> <span class='int'>21</span>
      <span class='kw'>break</span>
    <span class='comment'>### HP/Status ###
</span>    <span class='kw'>when</span> <span class='int'>0</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Qué hacer con {1}?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span><span class='lbracket'>[</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Setear PS</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Estado: Dormido</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Estado: Envenenado</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Estado: Quemado</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Estado: Paralizado</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Estado: Congelado</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Debilitar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Curar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='comment'># Break
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='comment'># Set HP
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>0</span>
          <span class='id identifier rubyid_params'>params</span><span class='op'>=</span><span class='const'>ChooseNumberParams</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
          <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setRange'>setRange</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_totalhp'>totalhp</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setDefaultValue'>setDefaultValue</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hp'>hp</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_newhp'>newhp</span><span class='op'>=</span><span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_pbMessageChooseNumber'>pbMessageChooseNumber</span><span class='lparen'>(</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Establecer los PS del Pokémon (máx. {1}).</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_totalhp'>totalhp</span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='rbrace'>}</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_newhp'>newhp</span><span class='op'>!=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hp'>hp</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hp'>hp</span><span class='op'>=</span><span class='id identifier rubyid_newhp'>newhp</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Los PS de {1} se establecieron en {2}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hp'>hp</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='comment'># Set status
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>&gt;=</span><span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>&lt;=</span><span class='int'>5</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hp'>hp</span><span class='op'>&gt;</span><span class='int'>0</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span><span class='op'>=</span><span class='id identifier rubyid_cmd'>cmd</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_statusCount'>statusCount</span><span class='op'>=</span><span class='int'>0</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_status'>status</span><span class='op'>==</span><span class='const'>PBStatuses</span><span class='op'>::</span><span class='const'>SLEEP</span>
              <span class='id identifier rubyid_params'>params</span><span class='op'>=</span><span class='const'>ChooseNumberParams</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
              <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setRange'>setRange</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>9</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setDefaultValue'>setDefaultValue</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_sleep'>sleep</span><span class='op'>=</span><span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_pbMessageChooseNumber'>pbMessageChooseNumber</span><span class='lparen'>(</span>
                 <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Establecer el contador de sueño del Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='rbrace'>}</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_statusCount'>statusCount</span><span class='op'>=</span><span class='id identifier rubyid_sleep'>sleep</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>El estado de {1} fue cambiado.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>El estado de {1} no pudo ser cambiado.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='comment'># Faint  /  Debilitado
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>6</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hp'>hp</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Los PS de {1} están en 0.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
        <span class='comment'># Heal   /  Curado
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>7</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_heal'>heal</span>
          <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} está completamente curado.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='comment'>### Level ###
</span>    <span class='kw'>when</span> <span class='int'>1</span>
      <span class='id identifier rubyid_params'>params</span><span class='op'>=</span><span class='const'>ChooseNumberParams</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
      <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setRange'>setRange</span><span class='lparen'>(</span><span class='int'>1</span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBExperience.html" title="PBExperience (module)">PBExperience</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="PBExperience.html#MAXLEVEL-constant" title="PBExperience::MAXLEVEL (constant)">MAXLEVEL</a></span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setDefaultValue'>setDefaultValue</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_level'>level</span><span class='op'>=</span><span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_pbMessageChooseNumber'>pbMessageChooseNumber</span><span class='lparen'>(</span>
         <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Establecer el nivel del Pokémon (máx. {1}).</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBExperience.html" title="PBExperience (module)">PBExperience</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="PBExperience.html#MAXLEVEL-constant" title="PBExperience::MAXLEVEL (constant)">MAXLEVEL</a></span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='rbrace'>}</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_level'>level</span><span class='op'>!=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span>
        <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span><span class='op'>=</span><span class='id identifier rubyid_level'>level</span>
        <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_calcStats'>calcStats</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>El nivel del {1} se estableció en {2}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='comment'>### Species ###
</span>    <span class='kw'>when</span> <span class='int'>2</span>
      <span class='id identifier rubyid_species'>species</span><span class='op'>=</span><span class='id identifier rubyid_pbChooseSpecies'>pbChooseSpecies</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_species'>species</span><span class='op'>!=</span><span class='int'>0</span>
        <span class='id identifier rubyid_oldspeciesname'>oldspeciesname</span><span class='op'>=</span><span class='const'>PBSpecies</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='op'>=</span><span class='id identifier rubyid_species'>species</span>
        <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_calcStats'>calcStats</span>
        <span class='id identifier rubyid_oldname'>oldname</span><span class='op'>=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
        <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='op'>=</span><span class='const'>PBSpecies</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='op'>==</span><span class='id identifier rubyid_oldspeciesname'>oldspeciesname</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La especie de {1} fue cambiada a {2}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_oldname'>oldname</span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBSpecies.html" title="PBSpecies (module)">PBSpecies</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBSpecies.html#getName-class_method" title="PBSpecies.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbSeenForm'>pbSeenForm</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='comment'>### Moves ###
</span>    <span class='kw'>when</span> <span class='int'>3</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Qué hacer con {1}?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span><span class='lbracket'>[</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Enseñar movimiento</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Olvidar movimiento</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restaurar lista de mov.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Restaurar mov. iniciales</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='comment'># Break
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='comment'># Teach move
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>0</span>
          <span class='id identifier rubyid_move'>move</span><span class='op'>=</span><span class='id identifier rubyid_pbChooseMoveList'>pbChooseMoveList</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_move'>move</span><span class='op'>!=</span><span class='int'>0</span>
            <span class='id identifier rubyid_pbLearnMove'><span class='object_link'><a href="top-level-namespace.html#pbLearnMove-instance_method" title="#pbLearnMove (method)">pbLearnMove</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_move'>move</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='comment'># Forget move
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>1</span>
          <span class='id identifier rubyid_move'>move</span><span class='op'>=</span><span class='id identifier rubyid_pbChooseMove'>pbChooseMove</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Seleccione el movimiento a olvidar.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_move'>move</span><span class='op'>&gt;=</span><span class='int'>0</span>
            <span class='id identifier rubyid_movename'>movename</span><span class='op'>=</span><span class='const'>PBMoves</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='lbracket'>[</span><span class='id identifier rubyid_move'>move</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_pbDeleteMoveAtIndex'>pbDeleteMoveAtIndex</span><span class='lparen'>(</span><span class='id identifier rubyid_move'>move</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} olvidó {2}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_movename'>movename</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='comment'># Reset movelist
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>2</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_resetMoves'>resetMoves</span>
          <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Los movimientos de {1} fueron restablecidos.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
        <span class='comment'># Reset initial moves
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>3</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_pbRecordFirstMoves'>pbRecordFirstMoves</span>
          <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} recuperó sus movimientos iniciales.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='comment'>### Gender ###
</span>    <span class='kw'>when</span> <span class='int'>4</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_gender'>gender</span><span class='op'>==</span><span class='int'>2</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} no tiene género.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
        <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
          <span class='id identifier rubyid_oldgender'>oldgender</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isMale?'>isMale?</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>macho</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>hembra</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
          <span class='id identifier rubyid_msg'>msg</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>El género {1} es natural.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_oldgender'>oldgender</span><span class='rparen'>)</span><span class='comma'>,</span>
               <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>El género {1} es forzado.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_oldgender'>oldgender</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_genderflag'>genderflag</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span><span class='rbracket'>]</span>
          <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span><span class='lbracket'>[</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hacer macho</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hacer hembra</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Quitar cambio</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
          <span class='comment'># Break
</span>          <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
            <span class='kw'>break</span>
          <span class='comment'># Make male
</span>          <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>0</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setGender'>setGender</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isMale?'>isMale?</span>
              <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ahora {1} es macho.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>else</span>
              <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>El género de {1} no se puedo cambiar.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
          <span class='comment'># Make female
</span>          <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>1</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setGender'>setGender</span><span class='lparen'>(</span><span class='int'>1</span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isFemale?'>isFemale?</span>
              <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ahora {1} es hembra.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>else</span>
              <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>El género de {1} no se puede cambiar.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
          <span class='comment'># Remove override
</span>          <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>2</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_genderflag'>genderflag</span><span class='op'>=</span><span class='kw'>nil</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Se quitó el cambio de género.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
          <span class='id identifier rubyid_pbSeenForm'>pbSeenForm</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='comment'>### Ability ###
</span>    <span class='kw'>when</span> <span class='int'>5</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_abils'>abils</span><span class='op'>=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_getAbilityList'>getAbilityList</span>
        <span class='id identifier rubyid_oldabil'>oldabil</span><span class='op'>=</span><span class='const'>PBAbilities</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ability'>ability</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_commands'>commands</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='id identifier rubyid_abils'>abils</span>
          <span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>&lt;</span><span class='int'>2</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>(H) </span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='op'>+</span><span class='const'><span class='object_link'><a href="PBAbilities.html" title="PBAbilities (class)">PBAbilities</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBAbilities.html#getName-class_method" title="PBAbilities.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Quitar cambio</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_msg'>msg</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La habilidad {1} es natural.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_oldabil'>oldabil</span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La habilidad {1} es forzada.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_oldabil'>oldabil</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_abilityflag'>abilityflag</span><span class='op'>!=</span><span class='kw'>nil</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span><span class='id identifier rubyid_commands'>commands</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='comment'># Break
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='comment'># Set ability override
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>&lt;</span><span class='id identifier rubyid_abils'>abils</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setAbility'>setAbility</span><span class='lparen'>(</span><span class='id identifier rubyid_abils'>abils</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='comment'># Remove override
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='id identifier rubyid_abils'>abils</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_abilityflag'>abilityflag</span><span class='op'>=</span><span class='kw'>nil</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='comment'>### Nature ###
</span>    <span class='kw'>when</span> <span class='int'>6</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_oldnature'>oldnature</span><span class='op'>=</span><span class='const'>PBNatures</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_nature'>nature</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_commands'>commands</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
        <span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PBNatures.html" title="PBNatures (module)">PBNatures</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getCount'><span class='object_link'><a href="PBNatures.html#getCount-class_method" title="PBNatures.getCount (method)">getCount</a></span></span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_times'>times</span> <span class='kw'>do</span> <span class='op'>|</span><span class='id identifier rubyid_i'>i</span><span class='op'>|</span>
          <span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PBNatures.html" title="PBNatures (module)">PBNatures</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBNatures.html#getName-class_method" title="PBNatures.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Quitar cambio</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_msg'>msg</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La naturaleza {1} es natural.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_oldnature'>oldnature</span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La naturaleza {1} es forzada.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_oldnature'>oldnature</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_natureflag'>natureflag</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span><span class='id identifier rubyid_commands'>commands</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='comment'># Break
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='comment'># Set nature override
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>&lt;</span><span class='const'>PBNatures</span><span class='period'>.</span><span class='id identifier rubyid_getCount'>getCount</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setNature'>setNature</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_calcStats'>calcStats</span>
        <span class='comment'># Remove override
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='const'>PBNatures</span><span class='period'>.</span><span class='id identifier rubyid_getCount'>getCount</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_natureflag'>natureflag</span><span class='op'>=</span><span class='kw'>nil</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='comment'>### Shininess ###
</span>    <span class='kw'>when</span> <span class='int'>7</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_oldshiny'>oldshiny</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isShiny?'>isShiny?</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>shiny</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>normal</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
        <span class='id identifier rubyid_msg'>msg</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Shininess ({1}) es natural.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_oldshiny'>oldshiny</span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Shininess ({1}) es forzado.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_oldshiny'>oldshiny</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_shinyflag'>shinyflag</span><span class='op'>!=</span><span class='kw'>nil</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span><span class='lbracket'>[</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hacer shiny</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hacer normal</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Quitar cambio</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='comment'># Break
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='comment'># Make shiny
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>0</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_makeShiny'>makeShiny</span>
        <span class='comment'># Make normal
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>1</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_makeNotShiny'>makeNotShiny</span>
        <span class='comment'># Remove override
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>2</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_shinyflag'>shinyflag</span><span class='op'>=</span><span class='kw'>nil</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='comment'>### Form ###
</span>    <span class='kw'>when</span> <span class='int'>8</span>
      <span class='id identifier rubyid_params'>params</span><span class='op'>=</span><span class='const'>ChooseNumberParams</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
      <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setRange'>setRange</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>100</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setDefaultValue'>setDefaultValue</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_form'>form</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_f'>f</span><span class='op'>=</span><span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_pbMessageChooseNumber'>pbMessageChooseNumber</span><span class='lparen'>(</span>
         <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Establecer la forma del Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='rbrace'>}</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_f'>f</span><span class='op'>!=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_form'>form</span>
        <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_form'>form</span><span class='op'>=</span><span class='id identifier rubyid_f'>f</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La forma de {1} se cambió a {2}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_form'>form</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbSeenForm'>pbSeenForm</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='comment'>### Happiness ###
</span>    <span class='kw'>when</span> <span class='int'>9</span>
      <span class='id identifier rubyid_params'>params</span><span class='op'>=</span><span class='const'>ChooseNumberParams</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
      <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setRange'>setRange</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>255</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setDefaultValue'>setDefaultValue</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_happiness'>happiness</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_h'>h</span><span class='op'>=</span><span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_pbMessageChooseNumber'>pbMessageChooseNumber</span><span class='lparen'>(</span>
         <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Establecer la felicidad de Pokémon (máx. 255).</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='rbrace'>}</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_h'>h</span><span class='op'>!=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_happiness'>happiness</span>
        <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_happiness'>happiness</span><span class='op'>=</span><span class='id identifier rubyid_h'>h</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La felicidad de {1} fue establecida en {2}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_happiness'>happiness</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='comment'>### EV/IV/pID ###
</span>    <span class='kw'>when</span> <span class='int'>10</span>
      <span class='id identifier rubyid_stats'>stats</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PS</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Ataque</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Defensa</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Velocidad</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>At. Esp.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Def. Esp.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_persid'>persid</span><span class='op'>=</span><span class='id identifier rubyid_sprintf'>sprintf</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>0x%08X</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_personalID'>personalID</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID personal es {1}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_persid'>persid</span><span class='rparen'>)</span><span class='comma'>,</span><span class='lbracket'>[</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Setear EVs</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Setear IVs</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Randomise pID</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='kw'>case</span> <span class='id identifier rubyid_cmd'>cmd</span>
        <span class='comment'># Break
</span>        <span class='kw'>when</span> <span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='comment'># Set EVs
</span>        <span class='kw'>when</span> <span class='int'>0</span>
          <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_evcommands'>evcommands</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
            <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_stats'>stats</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
              <span class='id identifier rubyid_evcommands'>evcommands</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_stats'>stats</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ev'>ev</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Cuál EV cambiar?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_evcommands'>evcommands</span><span class='comma'>,</span><span class='id identifier rubyid_cmd2'>cmd2</span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
              <span class='kw'>break</span>
            <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>&lt;</span><span class='id identifier rubyid_stats'>stats</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
              <span class='id identifier rubyid_params'>params</span><span class='op'>=</span><span class='const'>ChooseNumberParams</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
              <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setRange'>setRange</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PokeBattle_Pokemon.html" title="PokeBattle_Pokemon (class)">PokeBattle_Pokemon</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="PokeBattle_Pokemon.html#EVSTATLIMIT-constant" title="PokeBattle_Pokemon::EVSTATLIMIT (constant)">EVSTATLIMIT</a></span></span><span class='rparen'>)</span>
              <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setDefaultValue'>setDefaultValue</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ev'>ev</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmd2'>cmd2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setCancelValue'>setCancelValue</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ev'>ev</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmd2'>cmd2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_f'>f</span><span class='op'>=</span><span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_pbMessageChooseNumber'>pbMessageChooseNumber</span><span class='lparen'>(</span>
                 <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SEstablecer el EV para {1} (máx. {2}).</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
                    <span class='id identifier rubyid_stats'>stats</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmd2'>cmd2</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PokeBattle_Pokemon.html" title="PokeBattle_Pokemon (class)">PokeBattle_Pokemon</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="PokeBattle_Pokemon.html#EVSTATLIMIT-constant" title="PokeBattle_Pokemon::EVSTATLIMIT (constant)">EVSTATLIMIT</a></span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='rbrace'>}</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ev'>ev</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmd2'>cmd2</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_f'>f</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_totalhp'>totalhp</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_calcStats'>calcStats</span>
              <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='comment'># Set IVs
</span>        <span class='kw'>when</span> <span class='int'>1</span>
          <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
            <span class='id identifier rubyid_hiddenpower'>hiddenpower</span><span class='op'>=</span><span class='id identifier rubyid_pbHiddenPower'>pbHiddenPower</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_msg'>msg</span><span class='op'>=</span><span class='id identifier rubyid__INTL'>_INTL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Poder Oculto:\n{1}, potencia {2}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBTypes.html" title="PBTypes (class)">PBTypes</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBTypes.html#getName-class_method" title="PBTypes.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_hiddenpower'>hiddenpower</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_hiddenpower'>hiddenpower</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_ivcommands'>ivcommands</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
            <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_stats'>stats</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
              <span class='id identifier rubyid_ivcommands'>ivcommands</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_stats'>stats</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>+</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'> (</span><span class='embexpr_beg'>#{</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='embexpr_end'>}</span><span class='tstring_content'>)</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='kw'>end</span>
            <span class='id identifier rubyid_ivcommands'>ivcommands</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hacer aleatorio</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span><span class='id identifier rubyid_ivcommands'>ivcommands</span><span class='comma'>,</span><span class='id identifier rubyid_cmd2'>cmd2</span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
              <span class='kw'>break</span>
            <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>&lt;</span><span class='id identifier rubyid_stats'>stats</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
              <span class='id identifier rubyid_params'>params</span><span class='op'>=</span><span class='const'>ChooseNumberParams</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
              <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setRange'>setRange</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>31</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setDefaultValue'>setDefaultValue</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmd2'>cmd2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setCancelValue'>setCancelValue</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmd2'>cmd2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_f'>f</span><span class='op'>=</span><span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_pbMessageChooseNumber'>pbMessageChooseNumber</span><span class='lparen'>(</span>
                 <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Establecer el IV para {1} (máx. 31).</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_stats'>stats</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmd2'>cmd2</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='rbrace'>}</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmd2'>cmd2</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_f'>f</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_calcStats'>calcStats</span>
              <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
            <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>==</span><span class='id identifier rubyid_ivcommands'>ivcommands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>-</span><span class='int'>1</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>32</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>32</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>32</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>32</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>32</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='lbracket'>[</span><span class='int'>5</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>32</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_calcStats'>calcStats</span>
              <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='comment'># Randomise pID
</span>        <span class='kw'>when</span> <span class='int'>2</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_personalID'>personalID</span><span class='op'>=</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>256</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_personalID'>personalID</span><span class='op'>|=</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>256</span><span class='rparen'>)</span><span class='op'>&lt;&lt;</span><span class='int'>8</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_personalID'>personalID</span><span class='op'>|=</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>256</span><span class='rparen'>)</span><span class='op'>&lt;&lt;</span><span class='int'>16</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_personalID'>personalID</span><span class='op'>|=</span><span class='id identifier rubyid_rand'>rand</span><span class='lparen'>(</span><span class='int'>256</span><span class='rparen'>)</span><span class='op'>&lt;&lt;</span><span class='int'>24</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_calcStats'>calcStats</span>
          <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='comment'>### Pokérus ###
</span>    <span class='kw'>when</span> <span class='int'>11</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_pokerus'>pokerus</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_pokerus'>pokerus</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_pokerus'>pokerus</span> <span class='op'>:</span> <span class='int'>0</span>
        <span class='id identifier rubyid_msg'>msg</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} no tiene Pokérus.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Tiene grado {1}, infectado por {2} días más.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pokerus'>pokerus</span><span class='op'>/</span><span class='int'>16</span><span class='comma'>,</span><span class='id identifier rubyid_pokerus'>pokerus</span><span class='op'>%</span><span class='int'>16</span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Tiene grado {1}, no infectado.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pokerus'>pokerus</span><span class='op'>/</span><span class='int'>16</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_pokerusStage'>pokerusStage</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span><span class='lbracket'>[</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dar grado aleatorio</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hacer no infectado</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Limpiar Pokérus</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='comment'># Break
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='comment'># Give random strain
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>0</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_givePokerus'>givePokerus</span>
        <span class='comment'># Make not infectious
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>1</span>
          <span class='id identifier rubyid_strain'>strain</span><span class='op'>=</span><span class='id identifier rubyid_pokerus'>pokerus</span><span class='op'>/</span><span class='int'>16</span>
          <span class='id identifier rubyid_p'>p</span><span class='op'>=</span><span class='id identifier rubyid_strain'>strain</span><span class='op'>&lt;&lt;</span><span class='int'>4</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_pokerus'>pokerus</span><span class='op'>=</span><span class='id identifier rubyid_p'>p</span>
        <span class='comment'># Clear Pokérus
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>2</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_pokerus'>pokerus</span><span class='op'>=</span><span class='int'>0</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='comment'>### Ownership ###
</span>    <span class='kw'>when</span> <span class='int'>12</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_gender'>gender</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Masculino</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Femenino</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Desconocido</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_otgender'>otgender</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_msg'>msg</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pokémon del jugador\n{1}\n{2}\n{3} ({4})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ot'>ot</span><span class='comma'>,</span><span class='id identifier rubyid_gender'>gender</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_publicID'>publicID</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_trainerID'>trainerID</span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Pokémon extranjero\n{1}\n{2}\n{3} ({4})</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ot'>ot</span><span class='comma'>,</span><span class='id identifier rubyid_gender'>gender</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_publicID'>publicID</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_trainerID'>trainerID</span><span class='rparen'>)</span>
            <span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isForeign?'>isForeign?</span><span class='lparen'>(</span><span class='gvar'>$Trainer</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span><span class='lbracket'>[</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hacer del jugador</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Setear nombre del EO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Setear género del EO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>ID extranjero aleatorio</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Setear ID extranjero</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='comment'># Break
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='comment'># Make player&#39;s
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>0</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_trainerID'>trainerID</span><span class='op'>=</span><span class='gvar'>$Trainer</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ot'>ot</span><span class='op'>=</span><span class='gvar'>$Trainer</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_otgender'>otgender</span><span class='op'>=</span><span class='gvar'>$Trainer</span><span class='period'>.</span><span class='id identifier rubyid_gender'>gender</span>
        <span class='comment'># Set OT&#39;s name
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>1</span>
          <span class='id identifier rubyid_newot'>newot</span><span class='op'>=</span><span class='id identifier rubyid_pbEnterPlayerName'>pbEnterPlayerName</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Nombre del EO de {1}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span><span class='int'>1</span><span class='comma'>,</span><span class='int'>7</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ot'>ot</span><span class='op'>=</span><span class='id identifier rubyid_newot'>newot</span>
        <span class='comment'># Set OT&#39;s gender
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>2</span>
          <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Establecer el género del EO.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Masculino</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Femenino</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Desconocido</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_otgender'>otgender</span><span class='op'>=</span><span class='id identifier rubyid_cmd2'>cmd2</span> <span class='kw'>if</span> <span class='id identifier rubyid_cmd2'>cmd2</span><span class='op'>&gt;=</span><span class='int'>0</span>
        <span class='comment'># Random foreign ID
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>3</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_trainerID'>trainerID</span><span class='op'>=</span><span class='gvar'>$Trainer</span><span class='period'>.</span><span class='id identifier rubyid_getForeignID'>getForeignID</span>
        <span class='comment'># Set foreign ID
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>4</span>
          <span class='id identifier rubyid_params'>params</span><span class='op'>=</span><span class='const'>ChooseNumberParams</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span>
          <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setRange'>setRange</span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>65535</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_params'>params</span><span class='period'>.</span><span class='id identifier rubyid_setDefaultValue'>setDefaultValue</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_publicID'>publicID</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_val'>val</span><span class='op'>=</span><span class='const'>Kernel</span><span class='period'>.</span><span class='id identifier rubyid_pbMessageChooseNumber'>pbMessageChooseNumber</span><span class='lparen'>(</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Setear el nuevo ID (máx. 65535).</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_params'>params</span><span class='rparen'>)</span> <span class='lbrace'>{</span> <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span> <span class='rbrace'>}</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_trainerID'>trainerID</span><span class='op'>=</span><span class='id identifier rubyid_val'>val</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_trainerID'>trainerID</span><span class='op'>|=</span><span class='id identifier rubyid_val'>val</span><span class='op'>&lt;&lt;</span><span class='int'>16</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='comment'>### Nickname ###
</span>    <span class='kw'>when</span> <span class='int'>13</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_speciesname'>speciesname</span><span class='op'>=</span><span class='const'>PBSpecies</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_msg'>msg</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} tiene el apodo {2}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_speciesname'>speciesname</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} no tiene apodo.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_speciesname'>speciesname</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='op'>==</span><span class='id identifier rubyid_speciesname'>speciesname</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span><span class='lbracket'>[</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Renombrar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Borrar nombre</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='comment'># Break
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='comment'># Rename
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>0</span>
          <span class='id identifier rubyid_newname'>newname</span><span class='op'>=</span><span class='id identifier rubyid_pbEnterPokemonName'>pbEnterPokemonName</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Apodo de {1}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_speciesname'>speciesname</span><span class='rparen'>)</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>10</span><span class='comma'>,</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_newname'>newname</span><span class='op'>==</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>?</span> <span class='id identifier rubyid_speciesname'>speciesname</span> <span class='op'>:</span> <span class='id identifier rubyid_newname'>newname</span>
          <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
        <span class='comment'># Erase name
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>1</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='op'>=</span><span class='id identifier rubyid_speciesname'>speciesname</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='comment'>### Poké Ball ###
</span>    <span class='kw'>when</span> <span class='int'>14</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_oldball'>oldball</span><span class='op'>=</span><span class='const'>PBItems</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_pbBallTypeToBall'><span class='object_link'><a href="top-level-namespace.html#pbBallTypeToBall-instance_method" title="#pbBallTypeToBall (method)">pbBallTypeToBall</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ballused'>ballused</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_commands'>commands</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span><span class='semicolon'>;</span> <span class='id identifier rubyid_balls'>balls</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_key'>key</span> <span class='kw'>in</span> <span class='gvar'>$BallTypes</span><span class='period'>.</span><span class='id identifier rubyid_keys'>keys</span>
          <span class='id identifier rubyid_item'>item</span><span class='op'>=</span><span class='id identifier rubyid_getID'>getID</span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="PBItems.html" title="PBItems (class)">PBItems</a></span></span><span class='comma'>,</span><span class='gvar'>$BallTypes</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='rbracket'>]</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_balls'>balls</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='id identifier rubyid_key'>key</span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBItems.html" title="PBItems (class)">PBItems</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBItems.html#getName-class_method" title="PBItems.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_item'>item</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_item'>item</span><span class='op'>&gt;</span><span class='int'>0</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_balls'>balls</span><span class='period'>.</span><span class='id identifier rubyid_sort!'>sort!</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_a'>a</span><span class='comma'>,</span><span class='id identifier rubyid_b'>b</span><span class='op'>|</span> <span class='id identifier rubyid_a'>a</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>&lt;=&gt;</span><span class='id identifier rubyid_b'>b</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rbrace'>}</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
          <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='id identifier rubyid_i'>i</span> <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ballused'>ballused</span><span class='op'>==</span><span class='id identifier rubyid_balls'>balls</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
        <span class='kw'>end</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='id identifier rubyid_balls'>balls</span>
          <span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usada {1}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_oldball'>oldball</span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_commands'>commands</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='kw'>else</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ballused'>ballused</span><span class='op'>=</span><span class='id identifier rubyid_balls'>balls</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='comment'>### Ribbons ###
</span>    <span class='kw'>when</span> <span class='int'>15</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_commands'>commands</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
        <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>1</span><span class='op'>..</span><span class='const'><span class='object_link'><a href="PBRibbons.html" title="PBRibbons (module)">PBRibbons</a></span></span><span class='period'>.</span><span class='id identifier rubyid_maxValue'><span class='object_link'><a href="PBRibbons.html#maxValue-class_method" title="PBRibbons.maxValue (method)">maxValue</a></span></span>
          <span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} {2}</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
             <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hasRibbon?'>hasRibbon?</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[X]</span><span class='tstring_end'>&quot;</span></span> <span class='op'>:</span> <span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>[  ]</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBRibbons.html" title="PBRibbons (module)">PBRibbons</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBRibbons.html#getName-class_method" title="PBRibbons.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} cintas.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ribbonCount'>ribbonCount</span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_commands'>commands</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>&lt;</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hasRibbon?'>hasRibbon?</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_takeRibbon'>takeRibbon</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_giveRibbon'>giveRibbon</span><span class='lparen'>(</span><span class='id identifier rubyid_cmd'>cmd</span><span class='op'>+</span><span class='int'>1</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='comment'>### Egg ###
</span>    <span class='kw'>when</span> <span class='int'>16</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_msg'>msg</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No es un huevo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Huevo con pasos: {1}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_eggsteps'>eggsteps</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isEgg?'>isEgg?</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span><span class='lbracket'>[</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hacer huevo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hacer Pokémon</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Setear pasos en 1</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='comment'># Break
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='comment'># Make egg
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>0</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_pbHasEgg?'>pbHasEgg?</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='rparen'>)</span> <span class='op'>||</span>
             <span class='id identifier rubyid_pbConfirm'>pbConfirm</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} no puede ser un huevo. ¿Hacerlo huevo de todas formas?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBSpecies.html" title="PBSpecies (module)">PBSpecies</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBSpecies.html#getName-class_method" title="PBSpecies.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_level'>level</span><span class='op'>=</span><span class='const'>EGGINITIALLEVEL</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_calcStats'>calcStats</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='op'>=</span><span class='id identifier rubyid__INTL'>_INTL</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Huevo</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='id identifier rubyid_dexdata'>dexdata</span><span class='op'>=</span><span class='id identifier rubyid_pbOpenDexData'>pbOpenDexData</span>
            <span class='id identifier rubyid_pbDexDataOffset'><span class='object_link'><a href="top-level-namespace.html#pbDexDataOffset-instance_method" title="#pbDexDataOffset (method)">pbDexDataOffset</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_dexdata'>dexdata</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='comma'>,</span><span class='int'>21</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_eggsteps'>eggsteps</span><span class='op'>=</span><span class='id identifier rubyid_dexdata'>dexdata</span><span class='period'>.</span><span class='id identifier rubyid_fgetw'>fgetw</span>
            <span class='id identifier rubyid_dexdata'>dexdata</span><span class='period'>.</span><span class='id identifier rubyid_close'>close</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hatchedMap'>hatchedMap</span><span class='op'>=</span><span class='int'>0</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_obtainMode'>obtainMode</span><span class='op'>=</span><span class='int'>1</span>
            <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='comment'># Make Pokémon
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>1</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='op'>=</span><span class='const'>PBSpecies</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_species'>species</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_eggsteps'>eggsteps</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hatchedMap'>hatchedMap</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_obtainMode'>obtainMode</span><span class='op'>=</span><span class='int'>0</span>
          <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
        <span class='comment'># Set eggsteps to 1
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>2</span>
          <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_eggsteps'>eggsteps</span><span class='op'>=</span><span class='int'>1</span> <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_eggsteps'>eggsteps</span><span class='op'>&gt;</span><span class='int'>0</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='comment'>### Shadow Pokémon ###
</span>    <span class='kw'>when</span> <span class='int'>17</span>
      <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='int'>0</span>
      <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
        <span class='id identifier rubyid_msg'>msg</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No es un Pokémon Oscuro.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
             <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Medidor del corazón en {1}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_heartgauge'>heartgauge</span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isShadow?'>isShadow?</span> <span class='kw'>rescue</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid_msg'>msg</span><span class='comma'>,</span><span class='lbracket'>[</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Hacer Oscuro</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
           <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Bajar medidor del corazón</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_cmd'>cmd</span><span class='rparen'>)</span>
        <span class='comment'># Break
</span>        <span class='kw'>if</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span>
          <span class='kw'>break</span>
        <span class='comment'># Make Shadow
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>0</span>
          <span class='kw'>if</span> <span class='op'>!</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isShadow?'>isShadow?</span> <span class='kw'>rescue</span> <span class='kw'>false</span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>makeShadow</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_makeShadow'>makeShadow</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} ahora es un Pokémon Oscuro.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} ya es un Pokémon Oscuro.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='comment'># Lower heart gauge
</span>        <span class='kw'>elsif</span> <span class='id identifier rubyid_cmd'>cmd</span><span class='op'>==</span><span class='int'>1</span>
          <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isShadow?'>isShadow?</span> <span class='kw'>rescue</span> <span class='kw'>false</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_prev'>prev</span><span class='op'>=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_heartgauge'>heartgauge</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_adjustHeart'>adjustHeart</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>700</span><span class='rparen'>)</span>
            <span class='const'><span class='object_link'><a href="Kernel.html" title="Kernel (module)">Kernel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pbMessage'><span class='object_link'><a href="Kernel.html#pbMessage-class_method" title="Kernel.pbMessage (method)">pbMessage</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>El medidor del corazón de {1} bajo de {2} a {3} (ahora etapa {4}).</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span>
               <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_prev'>prev</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_heartgauge'>heartgauge</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_heartStage'>heartStage</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pbReadyToPurify'><span class='object_link'><a href="top-level-namespace.html#pbReadyToPurify-instance_method" title="#pbReadyToPurify (method)">pbReadyToPurify</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='const'><span class='object_link'><a href="Kernel.html" title="Kernel (module)">Kernel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pbMessage'><span class='object_link'><a href="Kernel.html#pbMessage-class_method" title="Kernel.pbMessage (method)">pbMessage</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} no es un Pokémon Oscuro.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='comment'>### Make Mystery Gift ###
</span>    <span class='kw'>when</span> <span class='int'>18</span>
      <span class='id identifier rubyid_pbCreateMysteryGift'><span class='object_link'><a href="top-level-namespace.html#pbCreateMysteryGift-instance_method" title="#pbCreateMysteryGift (method)">pbCreateMysteryGift</a></span></span><span class='lparen'>(</span><span class='int'>0</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
    <span class='comment'>### Duplicate ###
</span>    <span class='kw'>when</span> <span class='int'>19</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pbConfirm'>pbConfirm</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Estás seguro de que quieres copiar este Pokémon?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_clonedpkmn'>clonedpkmn</span><span class='op'>=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span>
        <span class='id identifier rubyid_clonedpkmn'>clonedpkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='op'>=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_iv'>iv</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span>
        <span class='id identifier rubyid_clonedpkmn'>clonedpkmn</span><span class='period'>.</span><span class='id identifier rubyid_ev'>ev</span><span class='op'>=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_ev'>ev</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span>
        <span class='id identifier rubyid_pbStorePokemon'>pbStorePokemon</span><span class='lparen'>(</span><span class='id identifier rubyid_clonedpkmn'>clonedpkmn</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbHardRefresh'>pbHardRefresh</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>El Pokémon fue duplicado.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='comment'>### Delete ###
</span>    <span class='kw'>when</span> <span class='int'>20</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pbConfirm'>pbConfirm</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Estás seguro de que quieres borrar este Pokémon?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span><span class='op'>=</span><span class='kw'>nil</span>
        <span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>
        <span class='id identifier rubyid_pbHardRefresh'>pbHardRefresh</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>El Pokémon fue borrado.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbPokemonGiveMailScreen-instance_method">
  
    #<strong>pbPokemonGiveMailScreen</strong>(mailIndex)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


978
979
980
981
982
983
984
985
986
987
988
989
990
991
992
993
994
995
996</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 978</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbPokemonGiveMailScreen'>pbPokemonGiveMailScreen</span><span class='lparen'>(</span><span class='id identifier rubyid_mailIndex'>mailIndex</span><span class='rparen'>)</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbStartScene'>pbStartScene</span><span class='lparen'>(</span><span class='ivar'>@party</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Dar a qué Pokémon?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbChoosePokemon'>pbChoosePokemon</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>&gt;=</span><span class='int'>0</span>
    <span class='id identifier rubyid_pkmn'>pkmn</span><span class='op'>=</span><span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='op'>!=</span><span class='int'>0</span> <span class='op'>||</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_mail'>mail</span>
      <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Este Pokémon ya lleva un objeto. No puede llevar una carta.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isEgg?'>isEgg?</span>
      <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Los Huevos no pueden llevar una carta.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La carta ha sido transferida desde la casilla.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_mail'>mail</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_mailbox'>mailbox</span><span class='lbracket'>[</span><span class='id identifier rubyid_mailIndex'>mailIndex</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setItem'>setItem</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_mail'>mail</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
      <span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_mailbox'>mailbox</span><span class='period'>.</span><span class='id identifier rubyid_delete_at'>delete_at</span><span class='lparen'>(</span><span class='id identifier rubyid_mailIndex'>mailIndex</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbEndScene'>pbEndScene</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbPokemonGiveScreen-instance_method">
  
    #<strong>pbPokemonGiveScreen</strong>(item)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


966
967
968
969
970
971
972
973
974
975
976</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 966</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbPokemonGiveScreen'>pbPokemonGiveScreen</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbStartScene'>pbStartScene</span><span class='lparen'>(</span><span class='ivar'>@party</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Dar a qué Pokémon?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbChoosePokemon'>pbChoosePokemon</span>
  <span class='id identifier rubyid_ret'>ret</span><span class='op'>=</span><span class='kw'>false</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>&gt;=</span><span class='int'>0</span>
    <span class='id identifier rubyid_ret'>ret</span><span class='op'>=</span><span class='id identifier rubyid_pbGiveMail'>pbGiveMail</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span><span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbEndScene'>pbEndScene</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_ret'>ret</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbPokemonMultipleEntryScreenEx-instance_method">
  
    #<strong>pbPokemonMultipleEntryScreenEx</strong>(ruleset)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1045
1046
1047
1048
1049
1050
1051
1052
1053
1054
1055
1056
1057
1058
1059
1060
1061
1062
1063
1064
1065
1066
1067
1068
1069
1070
1071
1072
1073
1074
1075
1076
1077
1078
1079
1080
1081
1082
1083
1084
1085
1086
1087
1088
1089
1090
1091
1092
1093
1094
1095
1096
1097
1098
1099
1100
1101
1102
1103
1104
1105
1106
1107
1108
1109
1110
1111
1112
1113
1114
1115
1116
1117
1118
1119
1120
1121
1122
1123
1124
1125
1126
1127
1128
1129
1130
1131
1132
1133
1134
1135
1136
1137
1138
1139
1140
1141
1142
1143
1144</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 1045</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbPokemonMultipleEntryScreenEx'>pbPokemonMultipleEntryScreenEx</span><span class='lparen'>(</span><span class='id identifier rubyid_ruleset'>ruleset</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_annot'>annot</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_statuses'>statuses</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_ordinals'>ordinals</span><span class='op'>=</span><span class='lbracket'>[</span>
     <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NO APTO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
     <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NO REGISTRADO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
     <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>INHABILITADO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
     <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PRIMERO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
     <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SEGUNDO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
     <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>TERCERO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
     <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>CUARTO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
     <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>QUINTO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
     <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>SEXTO</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
  <span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_ruleset'>ruleset</span><span class='period'>.</span><span class='id identifier rubyid_hasValidTeam?'>hasValidTeam?</span><span class='lparen'>(</span><span class='ivar'>@party</span><span class='rparen'>)</span>
    <span class='kw'>return</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_ret'>ret</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='id identifier rubyid_addedEntry'>addedEntry</span><span class='op'>=</span><span class='kw'>false</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_ruleset'>ruleset</span><span class='period'>.</span><span class='id identifier rubyid_isPokemonValid?'>isPokemonValid?</span><span class='lparen'>(</span><span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>1</span>
    <span class='kw'>else</span>
      <span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>2</span>
    <span class='kw'>end</span>  
  <span class='kw'>end</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_annot'>annot</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_ordinals'>ordinals</span><span class='lbracket'>[</span><span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbStartScene'>pbStartScene</span><span class='lparen'>(</span><span class='ivar'>@party</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elije un Pokémon y confirma.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_annot'>annot</span><span class='comma'>,</span><span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='id identifier rubyid_realorder'>realorder</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='kw'>for</span> <span class='id identifier rubyid_j'>j</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='id identifier rubyid_j'>j</span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>3</span>
          <span class='id identifier rubyid_realorder'>realorder</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_j'>j</span><span class='rparen'>)</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_realorder'>realorder</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='id identifier rubyid_realorder'>realorder</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_i'>i</span><span class='op'>+</span><span class='int'>3</span>
    <span class='kw'>end</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='id identifier rubyid_annot'>annot</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_ordinals'>ordinals</span><span class='lbracket'>[</span><span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbAnnotate'>pbAnnotate</span><span class='lparen'>(</span><span class='id identifier rubyid_annot'>annot</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_realorder'>realorder</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>==</span><span class='id identifier rubyid_ruleset'>ruleset</span><span class='period'>.</span><span class='id identifier rubyid_number'>number</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_addedEntry'>addedEntry</span>
      <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSelect'>pbSelect</span><span class='lparen'>(</span><span class='int'>6</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSetHelpText'>pbSetHelpText</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elije un Pokémon y confirma.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbChoosePokemon'>pbChoosePokemon</span>
    <span class='id identifier rubyid_addedEntry'>addedEntry</span><span class='op'>=</span><span class='kw'>false</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>==</span><span class='int'>6</span> <span class='comment'># Confirm was chosen
</span>      <span class='id identifier rubyid_ret'>ret</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
      <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='id identifier rubyid_realorder'>realorder</span>
        <span class='id identifier rubyid_ret'>ret</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='id identifier rubyid_error'>error</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_ruleset'>ruleset</span><span class='period'>.</span><span class='id identifier rubyid_isValid?'>isValid?</span><span class='lparen'>(</span><span class='id identifier rubyid_ret'>ret</span><span class='comma'>,</span><span class='id identifier rubyid_error'>error</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid_error'>error</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_ret'>ret</span><span class='op'>=</span><span class='kw'>nil</span>
      <span class='kw'>else</span>
        <span class='kw'>break</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>&lt;</span><span class='int'>0</span> <span class='comment'># Canceled
</span>      <span class='kw'>break</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_cmdEntry'>cmdEntry</span><span class='op'>=</span><span class='op'>-</span><span class='int'>1</span>
    <span class='id identifier rubyid_cmdNoEntry'>cmdNoEntry</span><span class='op'>=</span><span class='op'>-</span><span class='int'>1</span>
    <span class='id identifier rubyid_cmdSummary'>cmdSummary</span><span class='op'>=</span><span class='op'>-</span><span class='int'>1</span>
    <span class='id identifier rubyid_commands'>commands</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>==</span> <span class='int'>1</span>
      <span class='id identifier rubyid_commands'>commands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdEntry'>cmdEntry</span><span class='op'>=</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Participa</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span> <span class='op'>||</span> <span class='int'>0</span><span class='rparen'>)</span> <span class='op'>&gt;</span> <span class='int'>2</span>
      <span class='id identifier rubyid_commands'>commands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdNoEntry'>cmdNoEntry</span><span class='op'>=</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No participa</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_pkmn'>pkmn</span><span class='op'>=</span><span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_commands'>commands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdSummary'>cmdSummary</span><span class='op'>=</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Datos</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_commands'>commands</span><span class='lbracket'>[</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Salir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_command'>command</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Qué hacer con {1}?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_commands'>commands</span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_cmdEntry'>cmdEntry</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdEntry'>cmdEntry</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_realorder'>realorder</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>&gt;=</span><span class='id identifier rubyid_ruleset'>ruleset</span><span class='period'>.</span><span class='id identifier rubyid_number'>number</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_ruleset'>ruleset</span><span class='period'>.</span><span class='id identifier rubyid_number'>number</span><span class='op'>&gt;</span><span class='int'>0</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No pueden participar más de {1} Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_ruleset'>ruleset</span><span class='period'>.</span><span class='id identifier rubyid_number'>number</span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_realorder'>realorder</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>+</span><span class='int'>3</span>
        <span class='id identifier rubyid_addedEntry'>addedEntry</span><span class='op'>=</span><span class='kw'>true</span>
        <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmdNoEntry'>cmdNoEntry</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdNoEntry'>cmdNoEntry</span>
      <span class='id identifier rubyid_statuses'>statuses</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span><span class='op'>=</span><span class='int'>1</span>
      <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmdSummary'>cmdSummary</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdSummary'>cmdSummary</span>
      <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSummary'>pbSummary</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbEndScene'>pbEndScene</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_ret'>ret</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbPokemonScreen-instance_method">
  
    #<strong>pbPokemonScreen</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1814
1815
1816
1817
1818
1819
1820
1821
1822
1823
1824
1825
1826
1827
1828
1829
1830
1831
1832
1833
1834
1835
1836
1837
1838
1839
1840
1841
1842
1843
1844
1845
1846
1847
1848
1849
1850
1851
1852
1853
1854
1855
1856
1857
1858
1859
1860
1861
1862
1863
1864
1865
1866
1867
1868
1869
1870
1871
1872
1873
1874
1875
1876
1877
1878
1879
1880
1881
1882
1883
1884
1885
1886
1887
1888
1889
1890
1891
1892
1893
1894
1895
1896
1897
1898
1899
1900
1901
1902
1903
1904
1905
1906
1907
1908
1909
1910
1911
1912
1913
1914
1915
1916
1917
1918
1919
1920
1921
1922
1923
1924
1925
1926
1927
1928
1929
1930
1931
1932
1933
1934
1935
1936
1937
1938
1939
1940
1941
1942
1943
1944
1945
1946
1947
1948
1949
1950
1951
1952
1953
1954
1955
1956
1957
1958
1959
1960
1961
1962
1963
1964
1965
1966
1967
1968
1969
1970
1971
1972
1973
1974
1975
1976
1977
1978
1979
1980
1981
1982
1983
1984
1985
1986
1987
1988
1989
1990
1991
1992
1993
1994
1995
1996</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 1814</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbPokemonScreen'>pbPokemonScreen</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbStartScene'>pbStartScene</span><span class='lparen'>(</span><span class='ivar'>@party</span><span class='comma'>,</span><span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>&gt;</span><span class='int'>1</span> <span class='op'>?</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elije un Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elije un Pokémon o cancela.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
    <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSetHelpText'>pbSetHelpText</span><span class='lparen'>(</span><span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>&gt;</span><span class='int'>1</span> <span class='op'>?</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elije un Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elije un Pokémon o cancela.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbChoosePokemon'>pbChoosePokemon</span>
    <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>&lt;</span><span class='int'>0</span>
    <span class='id identifier rubyid_pkmn'>pkmn</span><span class='op'>=</span><span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_commands'>commands</span>   <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cmdSummary'>cmdSummary</span> <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
    <span class='id identifier rubyid_cmdDebug'>cmdDebug</span>   <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
    <span class='id identifier rubyid_cmdMoves'>cmdMoves</span>   <span class='op'>=</span> <span class='lbracket'>[</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span><span class='op'>-</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_cmdSwitch'>cmdSwitch</span>  <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
    <span class='id identifier rubyid_cmdMail'>cmdMail</span>    <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
    <span class='id identifier rubyid_cmdItem'>cmdItem</span>    <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
    <span class='comment'># Build the commands
</span>    <span class='id identifier rubyid_commands'>commands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdSummary'>cmdSummary</span><span class='op'>=</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span>      <span class='op'>=</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Datos</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_commands'>commands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdDebug'>cmdDebug</span><span class='op'>=</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span>        <span class='op'>=</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Depurador</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='gvar'>$DEBUG</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='id identifier rubyid_move'>move</span><span class='op'>=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
      <span class='comment'># Check for hidden moves and add any that were found
</span>      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isEgg?'>isEgg?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='id identifier rubyid_isConst?'>isConst?</span><span class='lparen'>(</span><span class='id identifier rubyid_move'>move</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBMoves.html" title="PBMoves (class)">PBMoves</a></span></span><span class='comma'>,</span><span class='symbol'>:MILKDRINK</span><span class='rparen'>)</span> <span class='op'>||</span>
                          <span class='id identifier rubyid_isConst?'>isConst?</span><span class='lparen'>(</span><span class='id identifier rubyid_move'>move</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBMoves.html" title="PBMoves (class)">PBMoves</a></span></span><span class='comma'>,</span><span class='symbol'>:SOFTBOILED</span><span class='rparen'>)</span> <span class='op'>||</span>
                          <span class='const'><span class='object_link'><a href="HiddenMoveHandlers.html" title="HiddenMoveHandlers (module)">HiddenMoveHandlers</a></span></span><span class='period'>.</span><span class='id identifier rubyid_hasHandler'><span class='object_link'><a href="HiddenMoveHandlers.html#hasHandler-class_method" title="HiddenMoveHandlers.hasHandler (method)">hasHandler</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_move'>move</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_commands'>commands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdMoves'>cmdMoves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='const'><span class='object_link'><a href="PBMoves.html" title="PBMoves (class)">PBMoves</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBMoves.html#getName-class_method" title="PBMoves.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_move'>move</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_commands'>commands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdSwitch'>cmdSwitch</span><span class='op'>=</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span>       <span class='op'>=</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Mover</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>&gt;</span><span class='int'>1</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_isEgg?'>isEgg?</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_mail'>mail</span>
        <span class='id identifier rubyid_commands'>commands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdMail'>cmdMail</span><span class='op'>=</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Carta</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_commands'>commands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdItem'>cmdItem</span><span class='op'>=</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span>     <span class='op'>=</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Objeto</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_commands'>commands</span><span class='lbracket'>[</span><span class='id identifier rubyid_commands'>commands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span>                 <span class='op'>=</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Salir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
    <span class='id identifier rubyid_command'>command</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Qué hacer con {1}?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_commands'>commands</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_havecommand'>havecommand</span><span class='op'>=</span><span class='kw'>false</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='int'>4</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_cmdMoves'>cmdMoves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdMoves'>cmdMoves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_havecommand'>havecommand</span><span class='op'>=</span><span class='kw'>true</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_isConst?'>isConst?</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBMoves.html" title="PBMoves (class)">PBMoves</a></span></span><span class='comma'>,</span><span class='symbol'>:SOFTBOILED</span><span class='rparen'>)</span> <span class='op'>||</span>
           <span class='id identifier rubyid_isConst?'>isConst?</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBMoves.html" title="PBMoves (class)">PBMoves</a></span></span><span class='comma'>,</span><span class='symbol'>:MILKDRINK</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_amt'>amt</span><span class='op'>=</span><span class='lbracket'>[</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_totalhp'>totalhp</span><span class='op'>/</span><span class='int'>5</span><span class='rparen'>)</span><span class='period'>.</span><span class='id identifier rubyid_floor'>floor</span><span class='comma'>,</span><span class='int'>1</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_max'>max</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hp'>hp</span><span class='op'>&lt;=</span><span class='id identifier rubyid_amt'>amt</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>No tiene PS suficientes...</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>break</span>
          <span class='kw'>end</span>
          <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSetHelpText'>pbSetHelpText</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿En cuál Pokémon usarlo?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_oldpkmnid'>oldpkmnid</span><span class='op'>=</span><span class='id identifier rubyid_pkmnid'>pkmnid</span>
          <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
            <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbPreSelect'>pbPreSelect</span><span class='lparen'>(</span><span class='id identifier rubyid_oldpkmnid'>oldpkmnid</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbChoosePokemon'>pbChoosePokemon</span><span class='lparen'>(</span><span class='kw'>true</span><span class='comma'>,</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
            <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>&lt;</span><span class='int'>0</span>
            <span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='op'>=</span><span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>==</span><span class='id identifier rubyid_oldpkmnid'>oldpkmnid</span>
              <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¡{1} no puede usar {2} en sí mismo!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBMoves.html" title="PBMoves (class)">PBMoves</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBMoves.html#getName-class_method" title="PBMoves.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>elsif</span> <span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_isEgg?'>isEgg?</span>
              <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¡{1} no puede usarse en un Huevo!</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBMoves.html" title="PBMoves (class)">PBMoves</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBMoves.html#getName-class_method" title="PBMoves.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>elsif</span> <span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_hp'>hp</span><span class='op'>==</span><span class='int'>0</span> <span class='op'>||</span> <span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_hp'>hp</span><span class='op'>==</span><span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_totalhp'>totalhp</span>
              <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} no puede usarse en ese Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBMoves.html" title="PBMoves (class)">PBMoves</a></span></span><span class='period'>.</span><span class='id identifier rubyid_getName'><span class='object_link'><a href="PBMoves.html#getName-class_method" title="PBMoves.getName (method)">getName</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>else</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hp'>hp</span><span class='op'>-=</span><span class='id identifier rubyid_amt'>amt</span>
              <span class='id identifier rubyid_hpgain'>hpgain</span><span class='op'>=</span><span class='id identifier rubyid_pbItemRestoreHP'>pbItemRestoreHP</span><span class='lparen'>(</span><span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='comma'>,</span><span class='id identifier rubyid_amt'>amt</span><span class='rparen'>)</span>
              <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} recuperó {2} puntos de salud.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_hpgain'>hpgain</span><span class='rparen'>)</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pbRefresh'>pbRefresh</span>
            <span class='kw'>end</span>
            <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hp'>hp</span><span class='op'>&lt;=</span><span class='id identifier rubyid_amt'>amt</span>
          <span class='kw'>end</span>
          <span class='kw'>break</span>
        <span class='kw'>elsif</span> <span class='const'><span class='object_link'><a href="Kernel.html" title="Kernel (module)">Kernel</a></span></span><span class='period'>.</span><span class='id identifier rubyid_pbCanUseHiddenMove?'><span class='object_link'><a href="Kernel.html#pbCanUseHiddenMove%3F-class_method" title="Kernel.pbCanUseHiddenMove? (method)">pbCanUseHiddenMove?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rparen'>)</span>
          <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbEndScene'>pbEndScene</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_isConst?'>isConst?</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span><span class='const'><span class='object_link'><a href="PBMoves.html" title="PBMoves (class)">PBMoves</a></span></span><span class='comma'>,</span><span class='symbol'>:FLY</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_scene'>scene</span><span class='op'>=</span><span class='const'>PokemonRegionMapScene</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='op'>-</span><span class='int'>1</span><span class='comma'>,</span><span class='kw'>false</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_screen'>screen</span><span class='op'>=</span><span class='const'>PokemonRegionMap</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_scene'>scene</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_ret'>ret</span><span class='op'>=</span><span class='id identifier rubyid_screen'>screen</span><span class='period'>.</span><span class='id identifier rubyid_pbStartFlyScreen'>pbStartFlyScreen</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_ret'>ret</span>
              <span class='gvar'>$PokemonTemp</span><span class='period'>.</span><span class='id identifier rubyid_flydata'>flydata</span><span class='op'>=</span><span class='id identifier rubyid_ret'>ret</span>
              <span class='kw'>return</span> <span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span>
            <span class='kw'>end</span>
            <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbStartScene'>pbStartScene</span><span class='lparen'>(</span><span class='ivar'>@party</span><span class='comma'>,</span>
               <span class='ivar'>@party</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>&gt;</span><span class='int'>1</span> <span class='op'>?</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elige un Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Elige un Pokémon o cancela.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>break</span>
          <span class='kw'>end</span>
          <span class='kw'>return</span> <span class='lbracket'>[</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_moves'>moves</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span>
        <span class='kw'>else</span>
          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='id identifier rubyid_havecommand'>havecommand</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_cmdSummary'>cmdSummary</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdSummary'>cmdSummary</span>
      <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSummary'>pbSummary</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmdDebug'>cmdDebug</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdDebug'>cmdDebug</span>
      <span class='id identifier rubyid_pbPokemonDebug'>pbPokemonDebug</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmdSwitch'>cmdSwitch</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdSwitch'>cmdSwitch</span>
      <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSetHelpText'>pbSetHelpText</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿A qué posición mover?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_oldpkmnid'>oldpkmnid</span><span class='op'>=</span><span class='id identifier rubyid_pkmnid'>pkmnid</span>
      <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbChoosePokemon'>pbChoosePokemon</span><span class='lparen'>(</span><span class='kw'>true</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>!=</span><span class='id identifier rubyid_oldpkmnid'>oldpkmnid</span>
        <span class='id identifier rubyid_pbSwitch'>pbSwitch</span><span class='lparen'>(</span><span class='id identifier rubyid_oldpkmnid'>oldpkmnid</span><span class='comma'>,</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmdMail'>cmdMail</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdMail'>cmdMail</span>
      <span class='id identifier rubyid_command'>command</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Qué quieres hacer con la carta?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span>
         <span class='lbracket'>[</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Leer</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Quitar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Salir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>case</span> <span class='id identifier rubyid_command'>command</span>
      <span class='kw'>when</span> <span class='int'>0</span> <span class='comment'># Read
</span>        <span class='id identifier rubyid_pbFadeOutIn'><span class='object_link'><a href="top-level-namespace.html#pbFadeOutIn-instance_method" title="#pbFadeOutIn (method)">pbFadeOutIn</a></span></span><span class='lparen'>(</span><span class='int'>99999</span><span class='rparen'>)</span><span class='lbrace'>{</span>
           <span class='id identifier rubyid_pbDisplayMail'><span class='object_link'><a href="top-level-namespace.html#pbDisplayMail-instance_method" title="#pbDisplayMail (method)">pbDisplayMail</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_mail'>mail</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
        <span class='rbrace'>}</span>
      <span class='kw'>when</span> <span class='int'>1</span> <span class='comment'># Take
</span>        <span class='id identifier rubyid_pbTakeMail'>pbTakeMail</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_cmdItem'>cmdItem</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdItem'>cmdItem</span>
      <span class='id identifier rubyid_itemcommands'>itemcommands</span> <span class='op'>=</span> <span class='lbracket'>[</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_cmdUseItem'>cmdUseItem</span>   <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
      <span class='id identifier rubyid_cmdGiveItem'>cmdGiveItem</span>  <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
      <span class='id identifier rubyid_cmdTakeItem'>cmdTakeItem</span>  <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
      <span class='id identifier rubyid_cmdMoveItem'>cmdMoveItem</span>  <span class='op'>=</span> <span class='op'>-</span><span class='int'>1</span>
      <span class='comment'># Build the commands
</span>      <span class='id identifier rubyid_itemcommands'>itemcommands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdUseItem'>cmdUseItem</span><span class='op'>=</span><span class='id identifier rubyid_itemcommands'>itemcommands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span>  <span class='op'>=</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Usar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_itemcommands'>itemcommands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdGiveItem'>cmdGiveItem</span><span class='op'>=</span><span class='id identifier rubyid_itemcommands'>itemcommands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Dar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_itemcommands'>itemcommands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdTakeItem'>cmdTakeItem</span><span class='op'>=</span><span class='id identifier rubyid_itemcommands'>itemcommands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Quitar</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hasItem?'>hasItem?</span>
      <span class='id identifier rubyid_itemcommands'>itemcommands</span><span class='lbracket'>[</span><span class='id identifier rubyid_cmdMoveItem'>cmdMoveItem</span><span class='op'>=</span><span class='id identifier rubyid_itemcommands'>itemcommands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span> <span class='op'>=</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Mover</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='kw'>if</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hasItem?'>hasItem?</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_pbIsMail?'><span class='object_link'><a href="top-level-namespace.html#pbIsMail%3F-instance_method" title="#pbIsMail? (method)">pbIsMail?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_itemcommands'>itemcommands</span><span class='lbracket'>[</span><span class='id identifier rubyid_itemcommands'>itemcommands</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='rbracket'>]</span>             <span class='op'>=</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Salir</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span>
      <span class='id identifier rubyid_command'>command</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbShowCommands'>pbShowCommands</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Qué quieres hacer con él?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='comma'>,</span><span class='id identifier rubyid_itemcommands'>itemcommands</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_cmdUseItem'>cmdUseItem</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdUseItem'>cmdUseItem</span>   <span class='comment'># Use
</span>        <span class='id identifier rubyid_item'>item</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbUseItem'><span class='object_link'><a href="top-level-namespace.html#pbUseItem-instance_method" title="#pbUseItem (method)">pbUseItem</a></span></span><span class='lparen'>(</span><span class='gvar'>$PokemonBag</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_item'>item</span><span class='op'>&gt;</span><span class='int'>0</span>
          <span class='id identifier rubyid_pbUseItemOnPokemon'><span class='object_link'><a href="top-level-namespace.html#pbUseItemOnPokemon-instance_method" title="#pbUseItemOnPokemon (method)">pbUseItemOnPokemon</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='kw'>self</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_cmdGiveItem'>cmdGiveItem</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdGiveItem'>cmdGiveItem</span>   <span class='comment'># Give
</span>        <span class='id identifier rubyid_item'>item</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbChooseItem'>pbChooseItem</span><span class='lparen'>(</span><span class='gvar'>$PokemonBag</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_item'>item</span><span class='op'>&gt;</span><span class='int'>0</span>
          <span class='id identifier rubyid_pbGiveMail'>pbGiveMail</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='comma'>,</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_cmdTakeItem'>cmdTakeItem</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdTakeItem'>cmdTakeItem</span>   <span class='comment'># Take
</span>        <span class='id identifier rubyid_pbTakeMail'>pbTakeMail</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
      <span class='kw'>elsif</span> <span class='id identifier rubyid_cmdMoveItem'>cmdMoveItem</span><span class='op'>&gt;=</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_command'>command</span><span class='op'>==</span><span class='id identifier rubyid_cmdMoveItem'>cmdMoveItem</span>   <span class='comment'># Move
</span>        <span class='id identifier rubyid_item'>item</span><span class='op'>=</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span>
        <span class='id identifier rubyid_itemname'>itemname</span><span class='op'>=</span><span class='const'>PBItems</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
        <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSetHelpText'>pbSetHelpText</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿A qué Pokémon quieres darle {1}?</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_itemname'>itemname</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_oldpkmnid'>oldpkmnid</span><span class='op'>=</span><span class='id identifier rubyid_pkmnid'>pkmnid</span>
        <span class='id identifier rubyid_loop'>loop</span> <span class='kw'>do</span>
          <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbPreSelect'>pbPreSelect</span><span class='lparen'>(</span><span class='id identifier rubyid_oldpkmnid'>oldpkmnid</span><span class='rparen'>)</span>
          <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>=</span><span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbChoosePokemon'>pbChoosePokemon</span><span class='lparen'>(</span><span class='kw'>true</span><span class='comma'>,</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rparen'>)</span>
          <span class='kw'>break</span> <span class='kw'>if</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>&lt;</span><span class='int'>0</span>
          <span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='op'>=</span><span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='rbracket'>]</span>
          <span class='kw'>if</span> <span class='id identifier rubyid_pkmnid'>pkmnid</span><span class='op'>==</span><span class='id identifier rubyid_oldpkmnid'>oldpkmnid</span>
            <span class='kw'>break</span>
          <span class='kw'>elsif</span> <span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_isEgg?'>isEgg?</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Un Huevo no puede llevar un objeto.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_hasItem?'>hasItem?</span>
            <span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_setItem'>setItem</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setItem'>setItem</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pbRefresh'>pbRefresh</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Le has dado {2} a {1}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_itemname'>itemname</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>break</span>
          <span class='kw'>elsif</span> <span class='id identifier rubyid_pbIsMail?'><span class='object_link'><a href="top-level-namespace.html#pbIsMail%3F-instance_method" title="#pbIsMail? (method)">pbIsMail?</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Debes tomar la carta de {1} antes de darle otro objeto.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
          <span class='kw'>else</span>
            <span class='id identifier rubyid_newitem'>newitem</span><span class='op'>=</span><span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span>
            <span class='id identifier rubyid_newitemname'>newitemname</span><span class='op'>=</span><span class='const'>PBItems</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_newitem'>newitem</span><span class='rparen'>)</span>
            <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} ya está llevando {2}.\1</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_newitemname'>newitemname</span><span class='rparen'>)</span><span class='rparen'>)</span>
            <span class='kw'>if</span> <span class='id identifier rubyid_pbConfirm'>pbConfirm</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Quieres intercambiar estos objetos?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_setItem'>setItem</span><span class='lparen'>(</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setItem'>setItem</span><span class='lparen'>(</span><span class='id identifier rubyid_newitem'>newitem</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pbRefresh'>pbRefresh</span>
              <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Le has dado {2} a {1}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_newpkmn'>newpkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_itemname'>itemname</span><span class='rparen'>)</span><span class='rparen'>)</span>
              <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Le has dado {2} a {1}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='comma'>,</span><span class='id identifier rubyid_newitemname'>newitemname</span><span class='rparen'>)</span><span class='rparen'>)</span>
              <span class='kw'>break</span>
            <span class='kw'>end</span>
          <span class='kw'>end</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbEndScene'>pbEndScene</span>
  <span class='kw'>return</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbRefresh-instance_method">
  
    #<strong>pbRefresh</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


837
838
839</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 837</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbRefresh'>pbRefresh</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbRefresh'>pbRefresh</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbRefreshAnnotations-instance_method">
  
    #<strong>pbRefreshAnnotations</strong>(ableProc)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>For after using an evolution stone</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


1174
1175
1176
1177
1178
1179
1180
1181</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 1174</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbRefreshAnnotations'>pbRefreshAnnotations</span><span class='lparen'>(</span><span class='id identifier rubyid_ableProc'>ableProc</span><span class='rparen'>)</span>   <span class='comment'># For after using an evolution stone
</span>  <span class='id identifier rubyid_annot'>annot</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_pkmn'>pkmn</span> <span class='kw'>in</span> <span class='ivar'>@party</span>
    <span class='id identifier rubyid_elig'>elig</span><span class='op'>=</span><span class='id identifier rubyid_ableProc'>ableProc</span><span class='period'>.</span><span class='id identifier rubyid_call'>call</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_annot'>annot</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_elig'>elig</span> <span class='op'>?</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>PUEDE</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>:</span> <span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>NO PUEDE</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbAnnotate'>pbAnnotate</span><span class='lparen'>(</span><span class='id identifier rubyid_annot'>annot</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbRefreshSingle-instance_method">
  
    #<strong>pbRefreshSingle</strong>(i)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


841
842
843</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 841</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbRefreshSingle'>pbRefreshSingle</span><span class='lparen'>(</span><span class='id identifier rubyid_i'>i</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbStartScene-instance_method">
  
    #<strong>pbStartScene</strong>(helptext, doublebattle, annotations = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


998
999
1000</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 998</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbStartScene'>pbStartScene</span><span class='lparen'>(</span><span class='id identifier rubyid_helptext'>helptext</span><span class='comma'>,</span><span class='id identifier rubyid_doublebattle'>doublebattle</span><span class='comma'>,</span><span class='id identifier rubyid_annotations'>annotations</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbStartScene'>pbStartScene</span><span class='lparen'>(</span><span class='ivar'>@party</span><span class='comma'>,</span><span class='id identifier rubyid_helptext'>helptext</span><span class='comma'>,</span><span class='id identifier rubyid_annotations'>annotations</span><span class='rparen'>)</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbSwitch-instance_method">
  
    #<strong>pbSwitch</strong>(oldid, newid)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


853
854
855
856
857
858
859
860
861</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 853</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbSwitch'>pbSwitch</span><span class='lparen'>(</span><span class='id identifier rubyid_oldid'>oldid</span><span class='comma'>,</span><span class='id identifier rubyid_newid'>newid</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_oldid'>oldid</span><span class='op'>!=</span><span class='id identifier rubyid_newid'>newid</span>
    <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSwitchBegin'>pbSwitchBegin</span><span class='lparen'>(</span><span class='id identifier rubyid_oldid'>oldid</span><span class='comma'>,</span><span class='id identifier rubyid_newid'>newid</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_tmp'>tmp</span><span class='op'>=</span><span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_oldid'>oldid</span><span class='rbracket'>]</span>
    <span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_oldid'>oldid</span><span class='rbracket'>]</span><span class='op'>=</span><span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_newid'>newid</span><span class='rbracket'>]</span>
    <span class='ivar'>@party</span><span class='lbracket'>[</span><span class='id identifier rubyid_newid'>newid</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_tmp'>tmp</span>
    <span class='ivar'>@scene</span><span class='period'>.</span><span class='id identifier rubyid_pbSwitchEnd'>pbSwitchEnd</span><span class='lparen'>(</span><span class='id identifier rubyid_oldid'>oldid</span><span class='comma'>,</span><span class='id identifier rubyid_newid'>newid</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbTakeMail-instance_method">
  
    #<strong>pbTakeMail</strong>(pkmn)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


891
892
893
894
895
896
897
898
899
900
901
902
903
904
905
906
907
908
909
910
911
912
913
914
915
916</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PScreen_Party.rb', line 891</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbTakeMail'>pbTakeMail</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_hasItem?'>hasItem?</span>
    <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>{1} no está llevando nada.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='op'>!</span><span class='gvar'>$PokemonBag</span><span class='period'>.</span><span class='id identifier rubyid_pbCanStore?'>pbCanStore?</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La mochila está llena. No se puede le puede quitar el objeto al Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>elsif</span> <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_mail'>mail</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_pbConfirm'>pbConfirm</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>¿Quieres enviar la carta a tu PC?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_pbMoveToMailbox'><span class='object_link'><a href="top-level-namespace.html#pbMoveToMailbox-instance_method" title="#pbMoveToMailbox (method)">pbMoveToMailbox</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>El buzón de la PC está lleno.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>La carta fue enviada a tu PC.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setItem'>setItem</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_pbConfirm'>pbConfirm</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Si le quitas la carta, perderás el mensaje. ¿Estás de acuerdo?</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Se ha quitado la carta al Pokémon.</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span><span class='rparen'>)</span>
      <span class='gvar'>$PokemonBag</span><span class='period'>.</span><span class='id identifier rubyid_pbStoreItem'>pbStoreItem</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setItem'>setItem</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_mail'>mail</span><span class='op'>=</span><span class='kw'>nil</span>
    <span class='kw'>end</span>
  <span class='kw'>else</span>
    <span class='gvar'>$PokemonBag</span><span class='period'>.</span><span class='id identifier rubyid_pbStoreItem'>pbStoreItem</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_itemname'>itemname</span><span class='op'>=</span><span class='const'>PBItems</span><span class='period'>.</span><span class='id identifier rubyid_getName'>getName</span><span class='lparen'>(</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_item'>item</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pbDisplay'>pbDisplay</span><span class='lparen'>(</span><span class='id identifier rubyid__INTL'><span class='object_link'><a href="top-level-namespace.html#_INTL-instance_method" title="#_INTL (method)">_INTL</a></span></span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>Recibiste {1} de {2}.</span><span class='tstring_end'>&quot;</span></span><span class='comma'>,</span><span class='id identifier rubyid_itemname'>itemname</span><span class='comma'>,</span><span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_pkmn'>pkmn</span><span class='period'>.</span><span class='id identifier rubyid_setItem'>setItem</span><span class='lparen'>(</span><span class='int'>0</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu May 19 20:12:29 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-2.7.5).
</div>

    </div>
  </body>
</html>