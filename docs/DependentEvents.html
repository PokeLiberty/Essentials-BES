<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>
  Class: DependentEvents
  
    &mdash; Documentation by YARD 0.9.27
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" />

  <link rel="stylesheet" href="css/common.css" type="text/css" />

<script type="text/javascript">
  pathId = "DependentEvents";
  relpath = '';
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div class="nav_wrap">
      <iframe id="nav" src="class_list.html?1"></iframe>
      <div id="resizer"></div>
    </div>

    <div id="main" tabindex="-1">
      <div id="header">
        <div id="menu">
  
    <a href="_index.html">Index (D)</a> &raquo;
    
    
    <span class="title">DependentEvents</span>
  
</div>

        <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">

        <svg width="24" height="24">
          <rect x="0" y="4" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="12" width="24" height="4" rx="1" ry="1"></rect>
          <rect x="0" y="20" width="24" height="4" rx="1" ry="1"></rect>
        </svg>
    </a>
  
</div>
        <div class="clear"></div>
      </div>

      <div id="content"><h1>Class: DependentEvents
  
  
  
</h1>
<div class="box_info">
  
  <dl>
    <dt>Inherits:</dt>
    <dd>
      <span class="inheritName">Object</span>
      
        <ul class="fullTree">
          <li>Object</li>
          
            <li class="next">DependentEvents</li>
          
        </ul>
        <a href="#" class="inheritanceTree">show all</a>
      
    </dd>
  </dl>
  

  
  
  
  
  

  

  
  <dl>
    <dt>Defined in:</dt>
    <dd>scripts/PField_DependentEvents.rb</dd>
  </dl>
  
</div>





  <h2>Instance Attribute Summary <small><a href="#" class="summary_toggle">collapse</a></small></h2>
  <ul class="summary">
    
      <li class="public ">
  <span class="summary_signature">
    
      <a href="#lastUpdate-instance_method" title="#lastUpdate (instance method)">#<strong>lastUpdate</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
    
      <span class="note title readonly">readonly</span>
    
    
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>Returns the value of attribute lastUpdate.</p>
</div></span>
  
</li>

    
  </ul>




  
    <h2>
      Instance Method Summary
      <small><a href="#" class="summary_toggle">collapse</a></small>
    </h2>

    <ul class="summary">
      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#addEvent-instance_method" title="#addEvent (instance method)">#<strong>addEvent</strong>(event, eventName = nil, commonEvent = nil)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#createEvent-instance_method" title="#createEvent (instance method)">#<strong>createEvent</strong>(eventData)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#debugEcho-instance_method" title="#debugEcho (instance method)">#<strong>debugEcho</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#eachEvent-instance_method" title="#eachEvent (instance method)">#<strong>eachEvent</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#getEventByName-instance_method" title="#getEventByName (instance method)">#<strong>getEventByName</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#initialize-instance_method" title="#initialize (instance method)">#<strong>initialize</strong>  &#x21d2; DependentEvents </a>
    

    
  </span>
  
  
    <span class="note title constructor">constructor</span>
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'>
<p>A new instance of DependentEvents.</p>
</div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbEnsureEvent-instance_method" title="#pbEnsureEvent (instance method)">#<strong>pbEnsureEvent</strong>(event, newMapID)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbFollowEventAcrossMaps-instance_method" title="#pbFollowEventAcrossMaps (instance method)">#<strong>pbFollowEventAcrossMaps</strong>(leader, follower, instant = false, leaderIsTrueLeader = true)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbMapChangeMoveDependentEvents-instance_method" title="#pbMapChangeMoveDependentEvents (instance method)">#<strong>pbMapChangeMoveDependentEvents</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbMoveDependentEvents-instance_method" title="#pbMoveDependentEvents (instance method)">#<strong>pbMoveDependentEvents</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#pbTurnDependentEvents-instance_method" title="#pbTurnDependentEvents (instance method)">#<strong>pbTurnDependentEvents</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#removeAllEvents-instance_method" title="#removeAllEvents (instance method)">#<strong>removeAllEvents</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#removeEvent-instance_method" title="#removeEvent (instance method)">#<strong>removeEvent</strong>(event)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#removeEventByName-instance_method" title="#removeEventByName (instance method)">#<strong>removeEventByName</strong>(name)  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
        <li class="public ">
  <span class="summary_signature">
    
      <a href="#updateDependentEvents-instance_method" title="#updateDependentEvents (instance method)">#<strong>updateDependentEvents</strong>  &#x21d2; Object </a>
    

    
  </span>
  
  
  
  
  
  
  

  
    <span class="summary_desc"><div class='inline'></div></span>
  
</li>

      
    </ul>
  

<div id="constructor_details" class="method_details_list">
  <h2>Constructor Details</h2>
  
    <div class="method_details first">
  <h3 class="signature first" id="initialize-instance_method">
  
    #<strong>initialize</strong>  &#x21d2; <tt><span class='object_link'><a href="" title="DependentEvents (class)">DependentEvents</a></span></tt> 
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns a new instance of DependentEvents.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


180
181
182
183
184
185
186
187
188</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 180</span>

<span class='kw'>def</span> <span class='id identifier rubyid_initialize'>initialize</span>
  <span class='comment'># Original map, Event ID, Current map, X, Y, Direction
</span>  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='ivar'>@realEvents</span><span class='op'>=</span><span class='lbracket'>[</span><span class='rbracket'>]</span>
  <span class='ivar'>@lastUpdate</span><span class='op'>=</span><span class='op'>-</span><span class='int'>1</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_event'>event</span> <span class='kw'>in</span> <span class='id identifier rubyid_events'>events</span>
    <span class='ivar'>@realEvents</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_createEvent'>createEvent</span><span class='lparen'>(</span><span class='id identifier rubyid_event'>event</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
  
</div>

  <div id="instance_attr_details" class="attr_details">
    <h2>Instance Attribute Details</h2>
    
      
      <span id=""></span>
      <div class="method_details first">
  <h3 class="signature first" id="lastUpdate-instance_method">
  
    #<strong>lastUpdate</strong>  &#x21d2; <tt>Object</tt>  <span class="extras">(readonly)</span>
  

  

  
</h3><div class="docstring">
  <div class="discussion">
    
<p>Returns the value of attribute lastUpdate.</p>


  </div>
</div>
<div class="tags">
  

</div><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


178
179
180</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 178</span>

<span class='kw'>def</span> <span class='id identifier rubyid_lastUpdate'>lastUpdate</span>
  <span class='ivar'>@lastUpdate</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>


  <div id="instance_method_details" class="method_details_list">
    <h2>Instance Method Details</h2>

    
      <div class="method_details first">
  <h3 class="signature first" id="addEvent-instance_method">
  
    #<strong>addEvent</strong>(event, eventName = nil, commonEvent = nil)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


486
487
488
489
490
491
492
493
494
495
496
497
498
499
500
501
502
503
504
505
506
507
508
509
510</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 486</span>

<span class='kw'>def</span> <span class='id identifier rubyid_addEvent'>addEvent</span><span class='lparen'>(</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span><span class='id identifier rubyid_eventName'>eventName</span><span class='op'>=</span><span class='kw'>nil</span><span class='comma'>,</span><span class='id identifier rubyid_commonEvent'>commonEvent</span><span class='op'>=</span><span class='kw'>nil</span><span class='rparen'>)</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_event'>event</span>
  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>==</span><span class='gvar'>$game_map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
      <span class='comment'># Already exists
</span>      <span class='kw'>return</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='comment'># Original map ID, original event ID, current map ID,
</span>  <span class='comment'># event X, event Y, event direction,
</span>  <span class='comment'># event&#39;s filename,
</span>  <span class='comment'># event&#39;s hue, event&#39;s name, common event ID
</span>  <span class='id identifier rubyid_eventData'>eventData</span><span class='op'>=</span><span class='lbracket'>[</span>
     <span class='gvar'>$game_map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='comma'>,</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span><span class='gvar'>$game_map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='comma'>,</span>
     <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='comma'>,</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_direction'>direction</span><span class='comma'>,</span>
     <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_character_name'>character_name</span><span class='period'>.</span><span class='id identifier rubyid_clone'>clone</span><span class='comma'>,</span>
     <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_character_hue'>character_hue</span><span class='comma'>,</span><span class='id identifier rubyid_eventName'>eventName</span><span class='comma'>,</span><span class='id identifier rubyid_commonEvent'>commonEvent</span>
  <span class='rbracket'>]</span>
  <span class='id identifier rubyid_newEvent'>newEvent</span><span class='op'>=</span><span class='id identifier rubyid_createEvent'>createEvent</span><span class='lparen'>(</span><span class='id identifier rubyid_eventData'>eventData</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_eventData'>eventData</span><span class='rparen'>)</span>
  <span class='ivar'>@realEvents</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='id identifier rubyid_newEvent'>newEvent</span><span class='rparen'>)</span>
  <span class='ivar'>@lastUpdate</span><span class='op'>+=</span><span class='int'>1</span>
  <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_erase'>erase</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="createEvent-instance_method">
  
    #<strong>createEvent</strong>(eventData)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


153
154
155
156
157
158
159
160
161
162
163
164
165
166
167
168
169
170
171
172
173
174
175
176</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 153</span>

<span class='kw'>def</span> <span class='id identifier rubyid_createEvent'>createEvent</span><span class='lparen'>(</span><span class='id identifier rubyid_eventData'>eventData</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rpgEvent'>rpgEvent</span><span class='op'>=</span><span class='const'>RPG</span><span class='op'>::</span><span class='const'>Event</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_eventData'>eventData</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_eventData'>eventData</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_rpgEvent'>rpgEvent</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='op'>=</span><span class='id identifier rubyid_eventData'>eventData</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_eventData'>eventData</span><span class='lbracket'>[</span><span class='int'>9</span><span class='rbracket'>]</span>
    <span class='comment'># Must setup common event list here and now
</span>    <span class='id identifier rubyid_commonEvent'>commonEvent</span><span class='op'>=</span><span class='const'>Game_CommonEvent</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_eventData'>eventData</span><span class='lbracket'>[</span><span class='int'>9</span><span class='rbracket'>]</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_rpgEvent'>rpgEvent</span><span class='period'>.</span><span class='id identifier rubyid_pages'>pages</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='op'>=</span><span class='id identifier rubyid_commonEvent'>commonEvent</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_newEvent'>newEvent</span><span class='op'>=</span><span class='const'>Game_Event</span><span class='period'>.</span><span class='id identifier rubyid_new'>new</span><span class='lparen'>(</span><span class='id identifier rubyid_eventData'>eventData</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_rpgEvent'>rpgEvent</span><span class='comma'>,</span>
     <span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_getMap'>getMap</span><span class='lparen'>(</span><span class='id identifier rubyid_eventData'>eventData</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_newEvent'>newEvent</span><span class='period'>.</span><span class='id identifier rubyid_character_name'>character_name</span><span class='op'>=</span><span class='id identifier rubyid_eventData'>eventData</span><span class='lbracket'>[</span><span class='int'>6</span><span class='rbracket'>]</span>
  <span class='id identifier rubyid_newEvent'>newEvent</span><span class='period'>.</span><span class='id identifier rubyid_character_hue'>character_hue</span><span class='op'>=</span><span class='id identifier rubyid_eventData'>eventData</span><span class='lbracket'>[</span><span class='int'>7</span><span class='rbracket'>]</span>
  <span class='kw'>case</span> <span class='id identifier rubyid_eventData'>eventData</span><span class='lbracket'>[</span><span class='int'>5</span><span class='rbracket'>]</span> <span class='comment'># direction
</span>  <span class='kw'>when</span> <span class='int'>2</span> <span class='comment'># down
</span>    <span class='id identifier rubyid_newEvent'>newEvent</span><span class='period'>.</span><span class='id identifier rubyid_turn_down'>turn_down</span>
  <span class='kw'>when</span> <span class='int'>4</span> <span class='comment'># left
</span>    <span class='id identifier rubyid_newEvent'>newEvent</span><span class='period'>.</span><span class='id identifier rubyid_turn_left'>turn_left</span>
  <span class='kw'>when</span> <span class='int'>6</span> <span class='comment'># right
</span>    <span class='id identifier rubyid_newEvent'>newEvent</span><span class='period'>.</span><span class='id identifier rubyid_turn_right'>turn_right</span>
  <span class='kw'>when</span> <span class='int'>8</span> <span class='comment'># up
</span>    <span class='id identifier rubyid_newEvent'>newEvent</span><span class='period'>.</span><span class='id identifier rubyid_turn_up'>turn_up</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='id identifier rubyid_newEvent'>newEvent</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="debugEcho-instance_method">
  
    #<strong>debugEcho</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


330
331
332
333
334
335</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 330</span>

<span class='kw'>def</span> <span class='id identifier rubyid_debugEcho'>debugEcho</span>
  <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_eachEvent'>eachEvent</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='comma'>,</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span>
     <span class='id identifier rubyid_echoln'>echoln</span> <span class='id identifier rubyid_d'>d</span>
     <span class='id identifier rubyid_echoln'>echoln</span> <span class='lbracket'>[</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='comma'>,</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='comma'>,</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='rbracket'>]</span>
  <span class='rbrace'>}</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="eachEvent-instance_method">
  
    #<strong>eachEvent</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


383
384
385
386
387
388</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 383</span>

<span class='kw'>def</span> <span class='id identifier rubyid_eachEvent'>eachEvent</span>
  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='kw'>yield</span> <span class='ivar'>@realEvents</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
  <span class='kw'>end</span>   
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="getEventByName-instance_method">
  
    #<strong>getEventByName</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


456
457
458
459
460
461
462
463
464</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 456</span>

<span class='kw'>def</span> <span class='id identifier rubyid_getEventByName'>getEventByName</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>8</span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_name'>name</span> <span class='comment'># Arbitrary name given to dependent event
</span>      <span class='kw'>return</span> <span class='ivar'>@realEvents</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='kw'>nil</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbEnsureEvent-instance_method">
  
    #<strong>pbEnsureEvent</strong>(event, newMapID)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


190
191
192
193
194
195
196
197
198
199
200
201
202
203
204
205
206</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 190</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbEnsureEvent'>pbEnsureEvent</span><span class='lparen'>(</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span> <span class='id identifier rubyid_newMapID'>newMapID</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='id identifier rubyid_found'>found</span><span class='op'>=</span><span class='op'>-</span><span class='int'>1</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='comment'># Check original map ID and original event ID 
</span>    <span class='kw'>if</span> <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
      <span class='comment'># Change current map ID
</span>      <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_newMapID'>newMapID</span>
      <span class='id identifier rubyid_newEvent'>newEvent</span><span class='op'>=</span><span class='id identifier rubyid_createEvent'>createEvent</span><span class='lparen'>(</span><span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='comment'># Replace event
</span>      <span class='ivar'>@realEvents</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_newEvent'>newEvent</span>
      <span class='ivar'>@lastUpdate</span><span class='op'>+=</span><span class='int'>1</span>
      <span class='kw'>return</span> <span class='id identifier rubyid_i'>i</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='kw'>return</span> <span class='op'>-</span><span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbFollowEventAcrossMaps-instance_method">
  
    #<strong>pbFollowEventAcrossMaps</strong>(leader, follower, instant = false, leaderIsTrueLeader = true)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


208
209
210
211
212
213
214
215
216
217
218
219
220
221
222
223
224
225
226
227
228
229
230
231
232
233
234
235
236
237
238
239
240
241
242
243
244
245
246
247
248
249
250
251
252
253
254
255
256
257
258
259
260
261
262
263
264
265
266
267
268
269
270
271
272
273
274
275
276
277
278
279
280
281
282
283
284
285
286
287
288
289
290
291
292
293
294
295
296
297
298
299
300
301
302
303
304
305
306
307
308
309
310
311
312
313
314
315
316
317
318
319
320
321
322
323
324
325
326
327
328</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 208</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbFollowEventAcrossMaps'>pbFollowEventAcrossMaps</span><span class='lparen'>(</span><span class='id identifier rubyid_leader'>leader</span><span class='comma'>,</span><span class='id identifier rubyid_follower'>follower</span><span class='comma'>,</span><span class='id identifier rubyid_instant'>instant</span><span class='op'>=</span><span class='kw'>false</span><span class='comma'>,</span><span class='id identifier rubyid_leaderIsTrueLeader'>leaderIsTrueLeader</span><span class='op'>=</span><span class='kw'>true</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_d'>d</span><span class='op'>=</span><span class='id identifier rubyid_leader'>leader</span><span class='period'>.</span><span class='id identifier rubyid_direction'>direction</span>
  <span class='id identifier rubyid_areConnected'>areConnected</span><span class='op'>=</span><span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_areConnected?'>areConnected?</span><span class='lparen'>(</span><span class='id identifier rubyid_leader'>leader</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='comma'>,</span><span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='rparen'>)</span>
  <span class='comment'># Get the rear facing tile of leader
</span>  <span class='id identifier rubyid_facingDirection'>facingDirection</span><span class='op'>=</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>8</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>6</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>2</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_d'>d</span><span class='rbracket'>]</span>
  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_leaderIsTrueLeader'>leaderIsTrueLeader</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_areConnected'>areConnected</span>
    <span class='id identifier rubyid_relativePos'>relativePos</span><span class='op'>=</span><span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_getThisAndOtherEventRelativePos'>getThisAndOtherEventRelativePos</span><span class='lparen'>(</span><span class='id identifier rubyid_leader'>leader</span><span class='comma'>,</span><span class='id identifier rubyid_follower'>follower</span><span class='rparen'>)</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>==</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>==</span><span class='int'>2</span><span class='rparen'>)</span> <span class='comment'># 2 spaces to the right of leader
</span>      <span class='id identifier rubyid_facingDirection'>facingDirection</span><span class='op'>=</span><span class='int'>6</span>
    <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>==</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>==</span><span class='op'>-</span><span class='int'>2</span><span class='rparen'>)</span> <span class='comment'># 2 spaces to the left of leader
</span>      <span class='id identifier rubyid_facingDirection'>facingDirection</span><span class='op'>=</span><span class='int'>4</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>==</span><span class='op'>-</span><span class='int'>2</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>==</span><span class='int'>0</span> <span class='comment'># 2 spaces above leader
</span>      <span class='id identifier rubyid_facingDirection'>facingDirection</span><span class='op'>=</span><span class='int'>8</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>==</span><span class='int'>2</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>==</span><span class='int'>0</span> <span class='comment'># 2 spaces below leader
</span>      <span class='id identifier rubyid_facingDirection'>facingDirection</span><span class='op'>=</span><span class='int'>2</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
  <span class='id identifier rubyid_facings'>facings</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid_facingDirection'>facingDirection</span><span class='rbracket'>]</span> <span class='comment'># Get facing from behind
</span>  <span class='id identifier rubyid_facings'>facings</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>8</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>6</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_d'>d</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># Get right facing
</span>  <span class='id identifier rubyid_facings'>facings</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>6</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>8</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>4</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_d'>d</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># Get left facing
</span>  <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_leaderIsTrueLeader'>leaderIsTrueLeader</span>
    <span class='id identifier rubyid_facings'>facings</span><span class='period'>.</span><span class='id identifier rubyid_push'>push</span><span class='lparen'>(</span><span class='lbracket'>[</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>2</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>4</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>6</span><span class='comma'>,</span><span class='int'>0</span><span class='comma'>,</span><span class='int'>8</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='id identifier rubyid_d'>d</span><span class='rbracket'>]</span><span class='rparen'>)</span> <span class='comment'># Get forward facing
</span>  <span class='kw'>end</span>
  <span class='id identifier rubyid_mapTile'>mapTile</span><span class='op'>=</span><span class='kw'>nil</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_areConnected'>areConnected</span>
    <span class='id identifier rubyid_bestRelativePos'>bestRelativePos</span><span class='op'>=</span><span class='op'>-</span><span class='int'>1</span>
    <span class='id identifier rubyid_oldthrough'>oldthrough</span><span class='op'>=</span><span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_through'>through</span>
    <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_through'>through</span><span class='op'>=</span><span class='kw'>false</span>
    <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_facings'>facings</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
      <span class='id identifier rubyid_facing'>facing</span><span class='op'>=</span><span class='id identifier rubyid_facings'>facings</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
      <span class='id identifier rubyid_tile'>tile</span><span class='op'>=</span><span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_getFacingTile'>getFacingTile</span><span class='lparen'>(</span><span class='id identifier rubyid_facing'>facing</span><span class='comma'>,</span><span class='id identifier rubyid_leader'>leader</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_passable'>passable</span><span class='op'>=</span><span class='id identifier rubyid_tile'>tile</span> <span class='op'>&amp;&amp;</span> <span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_isPassableStrict?'>isPassableStrict?</span><span class='lparen'>(</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_follower'>follower</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='op'>==</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_passable'>passable</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_tile'>tile</span> <span class='op'>&amp;&amp;</span> 
         <span class='const'><span class='object_link'><a href="PBTerrain.html" title="PBTerrain (module)">PBTerrain</a></span></span><span class='period'>.</span><span class='id identifier rubyid_isLedge?'><span class='object_link'><a href="PBTerrain.html#isLedge%3F-class_method" title="PBTerrain.isLedge? (method)">isLedge?</a></span></span><span class='lparen'>(</span><span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_getTerrainTag'>getTerrainTag</span><span class='lparen'>(</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span><span class='rparen'>)</span>
        <span class='comment'># If the tile isn&#39;t passable and the tile is a ledge,
</span>        <span class='comment'># get tile from further behind
</span>        <span class='id identifier rubyid_tile'>tile</span><span class='op'>=</span><span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_getFacingTileFromPos'>getFacingTileFromPos</span><span class='lparen'>(</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_facing'>facing</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_passable'>passable</span><span class='op'>=</span><span class='id identifier rubyid_tile'>tile</span> <span class='op'>&amp;&amp;</span> <span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_isPassableStrict?'>isPassableStrict?</span><span class='lparen'>(</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_follower'>follower</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_passable'>passable</span>
        <span class='id identifier rubyid_relativePos'>relativePos</span><span class='op'>=</span><span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_getThisAndOtherPosRelativePos'>getThisAndOtherPosRelativePos</span><span class='lparen'>(</span>
           <span class='id identifier rubyid_follower'>follower</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_distance'>distance</span><span class='op'>=</span><span class='const'>Math</span><span class='period'>.</span><span class='id identifier rubyid_sqrt'>sqrt</span><span class='lparen'>(</span><span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>*</span><span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>+</span><span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>*</span><span class='id identifier rubyid_relativePos'>relativePos</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_bestRelativePos'>bestRelativePos</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span> <span class='op'>||</span> <span class='id identifier rubyid_bestRelativePos'>bestRelativePos</span><span class='op'>&gt;</span><span class='id identifier rubyid_distance'>distance</span>
          <span class='id identifier rubyid_bestRelativePos'>bestRelativePos</span><span class='op'>=</span><span class='id identifier rubyid_distance'>distance</span>
          <span class='id identifier rubyid_mapTile'>mapTile</span><span class='op'>=</span><span class='id identifier rubyid_tile'>tile</span>
        <span class='kw'>end</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_i'>i</span><span class='op'>==</span><span class='int'>0</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_distance'>distance</span><span class='op'>&lt;=</span><span class='int'>1</span> <span class='comment'># Prefer behind if tile can move up to 1 space
</span>          <span class='kw'>break</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_through'>through</span><span class='op'>=</span><span class='id identifier rubyid_oldthrough'>oldthrough</span>
  <span class='kw'>else</span>
    <span class='id identifier rubyid_tile'>tile</span><span class='op'>=</span><span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_getFacingTile'>getFacingTile</span><span class='lparen'>(</span><span class='id identifier rubyid_facings'>facings</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_leader'>leader</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_passable'>passable</span><span class='op'>=</span><span class='id identifier rubyid_tile'>tile</span> <span class='op'>&amp;&amp;</span> <span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_isPassableStrict?'>isPassableStrict?</span><span class='lparen'>(</span>
       <span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_tile'>tile</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_follower'>follower</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_mapTile'>mapTile</span><span class='op'>=</span><span class='id identifier rubyid_passable'>passable</span> <span class='op'>?</span> <span class='id identifier rubyid_mapTile'>mapTile</span> <span class='op'>:</span> <span class='kw'>nil</span>
  <span class='kw'>end</span>
  <span class='kw'>if</span> <span class='id identifier rubyid_mapTile'>mapTile</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='op'>==</span><span class='id identifier rubyid_mapTile'>mapTile</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
    <span class='comment'># Follower is on same map
</span>    <span class='id identifier rubyid_newX'>newX</span><span class='op'>=</span><span class='id identifier rubyid_mapTile'>mapTile</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_newY'>newY</span><span class='op'>=</span><span class='id identifier rubyid_mapTile'>mapTile</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_deltaX'>deltaX</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_d'>d</span> <span class='op'>==</span> <span class='int'>6</span> <span class='op'>?</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>:</span> <span class='id identifier rubyid_d'>d</span> <span class='op'>==</span> <span class='int'>4</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_deltaY'>deltaY</span><span class='op'>=</span><span class='lparen'>(</span><span class='id identifier rubyid_d'>d</span> <span class='op'>==</span> <span class='int'>2</span> <span class='op'>?</span> <span class='op'>-</span><span class='int'>1</span> <span class='op'>:</span> <span class='id identifier rubyid_d'>d</span> <span class='op'>==</span> <span class='int'>8</span> <span class='op'>?</span> <span class='int'>1</span> <span class='op'>:</span> <span class='int'>0</span><span class='rparen'>)</span>
    <span class='id identifier rubyid_posX'>posX</span> <span class='op'>=</span> <span class='id identifier rubyid_newX'>newX</span> <span class='op'>+</span> <span class='id identifier rubyid_deltaX'>deltaX</span>
    <span class='id identifier rubyid_posY'>posY</span> <span class='op'>=</span> <span class='id identifier rubyid_newY'>newY</span> <span class='op'>+</span> <span class='id identifier rubyid_deltaY'>deltaY</span>
    <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_move_speed'>move_speed</span><span class='op'>=</span><span class='id identifier rubyid_leader'>leader</span><span class='period'>.</span><span class='id identifier rubyid_move_speed'>move_speed</span> <span class='comment'># sync movespeed
</span>    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='op'>-</span><span class='id identifier rubyid_newX'>newX</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='op'>==</span><span class='id identifier rubyid_newY'>newY</span><span class='rparen'>)</span> <span class='op'>||</span>
       <span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='op'>-</span><span class='id identifier rubyid_newX'>newX</span><span class='op'>==</span><span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='op'>==</span><span class='id identifier rubyid_newY'>newY</span><span class='rparen'>)</span> <span class='op'>||</span>
       <span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='op'>-</span><span class='id identifier rubyid_newY'>newY</span><span class='op'>==</span><span class='op'>-</span><span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='op'>==</span><span class='id identifier rubyid_newX'>newX</span><span class='rparen'>)</span> <span class='op'>||</span>
       <span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='op'>-</span><span class='id identifier rubyid_newY'>newY</span><span class='op'>==</span><span class='int'>1</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='op'>==</span><span class='id identifier rubyid_newX'>newX</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_instant'>instant</span>
        <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_moveto'>moveto</span><span class='lparen'>(</span><span class='id identifier rubyid_newX'>newX</span><span class='comma'>,</span><span class='id identifier rubyid_newY'>newY</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_pbFancyMoveTo'><span class='object_link'><a href="top-level-namespace.html#pbFancyMoveTo-instance_method" title="#pbFancyMoveTo (method)">pbFancyMoveTo</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='comma'>,</span><span class='id identifier rubyid_newX'>newX</span><span class='comma'>,</span><span class='id identifier rubyid_newY'>newY</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='op'>-</span><span class='id identifier rubyid_newX'>newX</span><span class='op'>==</span><span class='op'>-</span><span class='int'>2</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='op'>==</span><span class='id identifier rubyid_newY'>newY</span><span class='rparen'>)</span> <span class='op'>||</span>
          <span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='op'>-</span><span class='id identifier rubyid_newX'>newX</span><span class='op'>==</span><span class='int'>2</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='op'>==</span><span class='id identifier rubyid_newY'>newY</span><span class='rparen'>)</span> <span class='op'>||</span>
          <span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='op'>-</span><span class='id identifier rubyid_newY'>newY</span><span class='op'>==</span><span class='op'>-</span><span class='int'>2</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='op'>==</span><span class='id identifier rubyid_newX'>newX</span><span class='rparen'>)</span> <span class='op'>||</span>
          <span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='op'>-</span><span class='id identifier rubyid_newY'>newY</span><span class='op'>==</span><span class='int'>2</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='op'>==</span><span class='id identifier rubyid_newX'>newX</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_instant'>instant</span>
        <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_moveto'>moveto</span><span class='lparen'>(</span><span class='id identifier rubyid_newX'>newX</span><span class='comma'>,</span><span class='id identifier rubyid_newY'>newY</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_pbFancyMoveTo'><span class='object_link'><a href="top-level-namespace.html#pbFancyMoveTo-instance_method" title="#pbFancyMoveTo (method)">pbFancyMoveTo</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='comma'>,</span><span class='id identifier rubyid_newX'>newX</span><span class='comma'>,</span><span class='id identifier rubyid_newY'>newY</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>elsif</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='op'>!=</span><span class='id identifier rubyid_posX'>posX</span> <span class='op'>||</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='op'>!=</span><span class='id identifier rubyid_posY'>posY</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_instant'>instant</span>
        <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_moveto'>moveto</span><span class='lparen'>(</span><span class='id identifier rubyid_newX'>newX</span><span class='comma'>,</span><span class='id identifier rubyid_newY'>newY</span><span class='rparen'>)</span>
      <span class='kw'>else</span>
        <span class='id identifier rubyid_pbFancyMoveTo'><span class='object_link'><a href="top-level-namespace.html#pbFancyMoveTo-instance_method" title="#pbFancyMoveTo (method)">pbFancyMoveTo</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='comma'>,</span><span class='id identifier rubyid_posX'>posX</span><span class='comma'>,</span><span class='id identifier rubyid_posY'>posY</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_pbFancyMoveTo'><span class='object_link'><a href="top-level-namespace.html#pbFancyMoveTo-instance_method" title="#pbFancyMoveTo (method)">pbFancyMoveTo</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='comma'>,</span><span class='id identifier rubyid_newX'>newX</span><span class='comma'>,</span><span class='id identifier rubyid_newY'>newY</span><span class='rparen'>)</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_pbTurnTowardEvent'><span class='object_link'><a href="top-level-namespace.html#pbTurnTowardEvent-instance_method" title="#pbTurnTowardEvent (method)">pbTurnTowardEvent</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='comma'>,</span><span class='id identifier rubyid_leader'>leader</span><span class='rparen'>)</span>
  <span class='kw'>else</span>
    <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_mapTile'>mapTile</span>
      <span class='comment'># Make current position into leader&#39;s position
</span>      <span class='id identifier rubyid_mapTile'>mapTile</span><span class='op'>=</span><span class='lbracket'>[</span><span class='id identifier rubyid_leader'>leader</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='comma'>,</span><span class='id identifier rubyid_leader'>leader</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_leader'>leader</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='rbracket'>]</span>
    <span class='kw'>end</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='op'>==</span><span class='id identifier rubyid_mapTile'>mapTile</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span>
      <span class='comment'># Follower is on same map as leader
</span>      <span class='id identifier rubyid_follower'>follower</span><span class='period'>.</span><span class='id identifier rubyid_moveto'>moveto</span><span class='lparen'>(</span><span class='id identifier rubyid_leader'>leader</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='comma'>,</span><span class='id identifier rubyid_leader'>leader</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='rparen'>)</span>
      <span class='id identifier rubyid_pbTurnTowardEvent'><span class='object_link'><a href="top-level-namespace.html#pbTurnTowardEvent-instance_method" title="#pbTurnTowardEvent (method)">pbTurnTowardEvent</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='comma'>,</span><span class='id identifier rubyid_leader'>leader</span><span class='rparen'>)</span>
    <span class='kw'>else</span>
      <span class='comment'># Follower will move to different map
</span>      <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
      <span class='id identifier rubyid_eventIndex'>eventIndex</span><span class='op'>=</span><span class='id identifier rubyid_pbEnsureEvent'>pbEnsureEvent</span><span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='comma'>,</span><span class='id identifier rubyid_mapTile'>mapTile</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='rparen'>)</span>
      <span class='kw'>if</span> <span class='id identifier rubyid_eventIndex'>eventIndex</span><span class='op'>&gt;=</span><span class='int'>0</span>
        <span class='id identifier rubyid_newFollower'>newFollower</span><span class='op'>=</span><span class='ivar'>@realEvents</span><span class='lbracket'>[</span><span class='id identifier rubyid_eventIndex'>eventIndex</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_newEventData'>newEventData</span><span class='op'>=</span><span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_eventIndex'>eventIndex</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_newFollower'>newFollower</span><span class='period'>.</span><span class='id identifier rubyid_moveto'>moveto</span><span class='lparen'>(</span><span class='id identifier rubyid_mapTile'>mapTile</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='comma'>,</span><span class='id identifier rubyid_mapTile'>mapTile</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='rparen'>)</span>
        <span class='id identifier rubyid_newEventData'>newEventData</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_mapTile'>mapTile</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span>
        <span class='id identifier rubyid_newEventData'>newEventData</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_mapTile'>mapTile</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span>
        <span class='kw'>if</span> <span class='id identifier rubyid_mapTile'>mapTile</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_leader'>leader</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span>
          <span class='id identifier rubyid_pbTurnTowardEvent'><span class='object_link'><a href="top-level-namespace.html#pbTurnTowardEvent-instance_method" title="#pbTurnTowardEvent (method)">pbTurnTowardEvent</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_follower'>follower</span><span class='comma'>,</span><span class='id identifier rubyid_leader'>leader</span><span class='rparen'>)</span>
        <span class='kw'>end</span>
      <span class='kw'>end</span>
    <span class='kw'>end</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbMapChangeMoveDependentEvents-instance_method">
  
    #<strong>pbMapChangeMoveDependentEvents</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


337
338
339
340
341
342
343
344
345
346
347
348
349
350
351</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 337</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbMapChangeMoveDependentEvents'>pbMapChangeMoveDependentEvents</span>
  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='id identifier rubyid_updateDependentEvents'>updateDependentEvents</span>
  <span class='id identifier rubyid_leader'>leader</span><span class='op'>=</span><span class='gvar'>$game_player</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_event'>event</span><span class='op'>=</span><span class='ivar'>@realEvents</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_pbFollowEventAcrossMaps'>pbFollowEventAcrossMaps</span><span class='lparen'>(</span><span class='id identifier rubyid_leader'>leader</span><span class='comma'>,</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span><span class='kw'>true</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='op'>==</span><span class='int'>0</span><span class='rparen'>)</span>
    <span class='comment'># Update X and Y for this event
</span>    <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span>
    <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span>
    <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>5</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_direction'>direction</span>
    <span class='comment'># Set leader to this event
</span>    <span class='id identifier rubyid_leader'>leader</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbMoveDependentEvents-instance_method">
  
    #<strong>pbMoveDependentEvents</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


353
354
355
356
357
358
359
360
361
362
363
364
365
366
367</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 353</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbMoveDependentEvents'>pbMoveDependentEvents</span>
  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='id identifier rubyid_updateDependentEvents'>updateDependentEvents</span>
  <span class='id identifier rubyid_leader'>leader</span><span class='op'>=</span><span class='gvar'>$game_player</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_event'>event</span><span class='op'>=</span><span class='ivar'>@realEvents</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_pbFollowEventAcrossMaps'>pbFollowEventAcrossMaps</span><span class='lparen'>(</span><span class='id identifier rubyid_leader'>leader</span><span class='comma'>,</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span><span class='kw'>false</span><span class='comma'>,</span><span class='id identifier rubyid_i'>i</span><span class='op'>==</span><span class='int'>0</span><span class='rparen'>)</span>
    <span class='comment'># Update X and Y for this event
</span>    <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span>
    <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span>
    <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>5</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_direction'>direction</span>
    <span class='comment'># Set leader to this event
</span>    <span class='id identifier rubyid_leader'>leader</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="pbTurnDependentEvents-instance_method">
  
    #<strong>pbTurnDependentEvents</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


369
370
371
372
373
374
375
376
377
378
379
380
381</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 369</span>

<span class='kw'>def</span> <span class='id identifier rubyid_pbTurnDependentEvents'>pbTurnDependentEvents</span>
  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='id identifier rubyid_updateDependentEvents'>updateDependentEvents</span>
  <span class='id identifier rubyid_leader'>leader</span><span class='op'>=</span><span class='gvar'>$game_player</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_event'>event</span><span class='op'>=</span><span class='ivar'>@realEvents</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_pbTurnTowardEvent'><span class='object_link'><a href="top-level-namespace.html#pbTurnTowardEvent-instance_method" title="#pbTurnTowardEvent (method)">pbTurnTowardEvent</a></span></span><span class='lparen'>(</span><span class='id identifier rubyid_event'>event</span><span class='comma'>,</span><span class='id identifier rubyid_leader'>leader</span><span class='rparen'>)</span>
    <span class='comment'># Update direction for this event
</span>    <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>5</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_direction'>direction</span>
    <span class='comment'># Set leader to this event
</span>    <span class='id identifier rubyid_leader'>leader</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="removeAllEvents-instance_method">
  
    #<strong>removeAllEvents</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


466
467
468
469
470
471</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 466</span>

<span class='kw'>def</span> <span class='id identifier rubyid_removeAllEvents'>removeAllEvents</span>
  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
  <span class='ivar'>@realEvents</span><span class='period'>.</span><span class='id identifier rubyid_clear'>clear</span>
  <span class='ivar'>@lastUpdate</span><span class='op'>+=</span><span class='int'>1</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="removeEvent-instance_method">
  
    #<strong>removeEvent</strong>(event)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


440
441
442
443
444
445
446
447
448
449
450
451
452
453
454</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 440</span>

<span class='kw'>def</span> <span class='id identifier rubyid_removeEvent'>removeEvent</span><span class='lparen'>(</span><span class='id identifier rubyid_event'>event</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='id identifier rubyid_mapid'>mapid</span><span class='op'>=</span><span class='gvar'>$game_map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_mapid'>mapid</span> <span class='op'>&amp;&amp;</span> <span class='comment'># Refer to current map
</span>       <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span> <span class='op'>&amp;&amp;</span> <span class='comment'># Event&#39;s map ID is original ID
</span>       <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span>
      <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='kw'>nil</span>
      <span class='ivar'>@realEvents</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='kw'>nil</span>
      <span class='ivar'>@lastUpdate</span><span class='op'>+=</span><span class='int'>1</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>
    <span class='ivar'>@realEvents</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="removeEventByName-instance_method">
  
    #<strong>removeEventByName</strong>(name)  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


473
474
475
476
477
478
479
480
481
482
483
484</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 473</span>

<span class='kw'>def</span> <span class='id identifier rubyid_removeEventByName'>removeEventByName</span><span class='lparen'>(</span><span class='id identifier rubyid_name'>name</span><span class='rparen'>)</span>
  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='kw'>if</span> <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>8</span><span class='rbracket'>]</span><span class='op'>==</span><span class='id identifier rubyid_name'>name</span> <span class='comment'># Arbitrary name given to dependent event
</span>      <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='kw'>nil</span>
      <span class='ivar'>@realEvents</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='op'>=</span><span class='kw'>nil</span>
      <span class='ivar'>@lastUpdate</span><span class='op'>+=</span><span class='int'>1</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>
    <span class='ivar'>@realEvents</span><span class='period'>.</span><span class='id identifier rubyid_compact!'>compact!</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
      <div class="method_details ">
  <h3 class="signature " id="updateDependentEvents-instance_method">
  
    #<strong>updateDependentEvents</strong>  &#x21d2; <tt>Object</tt> 
  

  

  
</h3><table class="source_code">
  <tr>
    <td>
      <pre class="lines">


390
391
392
393
394
395
396
397
398
399
400
401
402
403
404
405
406
407
408
409
410
411
412
413
414
415
416
417
418
419
420
421
422
423
424
425
426
427
428
429
430
431
432
433
434
435
436
437
438</pre>
    </td>
    <td>
      <pre class="code"><span class="info file"># File 'scripts/PField_DependentEvents.rb', line 390</span>

<span class='kw'>def</span> <span class='id identifier rubyid_updateDependentEvents'>updateDependentEvents</span>
  <span class='id identifier rubyid_events'>events</span><span class='op'>=</span><span class='gvar'>$PokemonGlobal</span><span class='period'>.</span><span class='id identifier rubyid_dependentEvents'>dependentEvents</span>
  <span class='kw'>return</span> <span class='kw'>if</span> <span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span><span class='op'>==</span><span class='int'>0</span>
  <span class='kw'>for</span> <span class='id identifier rubyid_i'>i</span> <span class='kw'>in</span> <span class='int'>0</span><span class='op'>...</span><span class='id identifier rubyid_events'>events</span><span class='period'>.</span><span class='id identifier rubyid_length'>length</span>
    <span class='id identifier rubyid_event'>event</span><span class='op'>=</span><span class='ivar'>@realEvents</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='kw'>next</span> <span class='kw'>if</span> <span class='op'>!</span><span class='ivar'>@realEvents</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span>
    <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_transparent'>transparent</span><span class='op'>=</span><span class='gvar'>$game_player</span><span class='period'>.</span><span class='id identifier rubyid_transparent'>transparent</span>
    <span class='kw'>if</span> <span class='lparen'>(</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_jumping?'>jumping?</span> <span class='op'>||</span> <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_moving?'>moving?</span><span class='rparen'>)</span> <span class='op'>||</span> <span class='op'>!</span><span class='lparen'>(</span><span class='gvar'>$game_player</span><span class='period'>.</span><span class='id identifier rubyid_jumping?'>jumping?</span> <span class='op'>||</span> <span class='gvar'>$game_player</span><span class='period'>.</span><span class='id identifier rubyid_moving?'>moving?</span><span class='rparen'>)</span> <span class='kw'>then</span>
      <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span>
    <span class='kw'>elsif</span> <span class='op'>!</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_starting'>starting</span>
      <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_set_starting'>set_starting</span>
      <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_update'>update</span>
      <span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_clear_starting'>clear_starting</span>
    <span class='kw'>end</span>
    <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>3</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span>
    <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>4</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span>
    <span class='id identifier rubyid_events'>events</span><span class='lbracket'>[</span><span class='id identifier rubyid_i'>i</span><span class='rbracket'>]</span><span class='lbracket'>[</span><span class='int'>5</span><span class='rbracket'>]</span><span class='op'>=</span><span class='id identifier rubyid_event'>event</span><span class='period'>.</span><span class='id identifier rubyid_direction'>direction</span>
  <span class='kw'>end</span>
  <span class='comment'># Check event triggers
</span>  <span class='kw'>if</span> <span class='const'><span class='object_link'><a href="Input.html" title="Input (module)">Input</a></span></span><span class='period'>.</span><span class='id identifier rubyid_trigger?'><span class='object_link'><a href="Input.html#trigger%3F-class_method" title="Input.trigger? (method)">trigger?</a></span></span><span class='lparen'>(</span><span class='const'><span class='object_link'><a href="Input.html" title="Input (module)">Input</a></span></span><span class='op'>::</span><span class='const'><span class='object_link'><a href="Input.html#C-constant" title="Input::C (constant)">C</a></span></span><span class='rparen'>)</span> <span class='op'>&amp;&amp;</span> <span class='op'>!</span><span class='id identifier rubyid_pbMapInterpreterRunning?'><span class='object_link'><a href="top-level-namespace.html#pbMapInterpreterRunning%3F-instance_method" title="#pbMapInterpreterRunning? (method)">pbMapInterpreterRunning?</a></span></span>
    <span class='comment'># Get position of tile facing the player
</span>    <span class='id identifier rubyid_facingTile'>facingTile</span><span class='op'>=</span><span class='gvar'>$MapFactory</span><span class='period'>.</span><span class='id identifier rubyid_getFacingTile'>getFacingTile</span><span class='lparen'>(</span><span class='rparen'>)</span>
    <span class='kw'>self</span><span class='period'>.</span><span class='id identifier rubyid_eachEvent'>eachEvent</span> <span class='lbrace'>{</span><span class='op'>|</span><span class='id identifier rubyid_e'>e</span><span class='comma'>,</span><span class='id identifier rubyid_d'>d</span><span class='op'>|</span>
       <span class='kw'>next</span> <span class='kw'>if</span> <span class='op'>!</span><span class='id identifier rubyid_d'>d</span><span class='lbracket'>[</span><span class='int'>9</span><span class='rbracket'>]</span>
       <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='op'>==</span><span class='gvar'>$game_player</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='op'>==</span><span class='gvar'>$game_player</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span>
         <span class='comment'># On same position
</span>         <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_jumping?'>jumping?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>over_trigger</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_over_trigger?'>over_trigger?</span><span class='rparen'>)</span>
           <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='op'>&gt;</span><span class='int'>1</span>
             <span class='comment'># Start event
</span>             <span class='gvar'>$game_map</span><span class='period'>.</span><span class='id identifier rubyid_refresh'>refresh</span> <span class='kw'>if</span> <span class='gvar'>$game_map</span><span class='period'>.</span><span class='id identifier rubyid_need_refresh'>need_refresh</span>
             <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span>
             <span class='id identifier rubyid_pbMapInterpreter'><span class='object_link'><a href="top-level-namespace.html#pbMapInterpreter-instance_method" title="#pbMapInterpreter (method)">pbMapInterpreter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_setup'>setup</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='comma'>,</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='rparen'>)</span>
           <span class='kw'>end</span>
         <span class='kw'>end</span>
       <span class='kw'>elsif</span> <span class='id identifier rubyid_facingTile'>facingTile</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='op'>==</span><span class='id identifier rubyid_facingTile'>facingTile</span><span class='lbracket'>[</span><span class='int'>0</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span>
             <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_x'>x</span><span class='op'>==</span><span class='id identifier rubyid_facingTile'>facingTile</span><span class='lbracket'>[</span><span class='int'>1</span><span class='rbracket'>]</span> <span class='op'>&amp;&amp;</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_y'>y</span><span class='op'>==</span><span class='id identifier rubyid_facingTile'>facingTile</span><span class='lbracket'>[</span><span class='int'>2</span><span class='rbracket'>]</span>
         <span class='comment'># On facing tile
</span>         <span class='kw'>if</span> <span class='kw'>not</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_jumping?'>jumping?</span> <span class='op'>&amp;&amp;</span> <span class='lparen'>(</span><span class='op'>!</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_respond_to?'>respond_to?</span><span class='lparen'>(</span><span class='tstring'><span class='tstring_beg'>&quot;</span><span class='tstring_content'>over_trigger</span><span class='tstring_end'>&quot;</span></span><span class='rparen'>)</span> <span class='op'>||</span> <span class='op'>!</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_over_trigger?'>over_trigger?</span><span class='rparen'>)</span>
           <span class='kw'>if</span> <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='period'>.</span><span class='id identifier rubyid_size'>size</span><span class='op'>&gt;</span><span class='int'>1</span>
             <span class='comment'># Start event
</span>             <span class='gvar'>$game_map</span><span class='period'>.</span><span class='id identifier rubyid_refresh'>refresh</span> <span class='kw'>if</span> <span class='gvar'>$game_map</span><span class='period'>.</span><span class='id identifier rubyid_need_refresh'>need_refresh</span>
             <span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_lock'>lock</span>
             <span class='id identifier rubyid_pbMapInterpreter'><span class='object_link'><a href="top-level-namespace.html#pbMapInterpreter-instance_method" title="#pbMapInterpreter (method)">pbMapInterpreter</a></span></span><span class='period'>.</span><span class='id identifier rubyid_setup'>setup</span><span class='lparen'>(</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_list'>list</span><span class='comma'>,</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_id'>id</span><span class='comma'>,</span><span class='id identifier rubyid_e'>e</span><span class='period'>.</span><span class='id identifier rubyid_map'>map</span><span class='period'>.</span><span class='id identifier rubyid_map_id'>map_id</span><span class='rparen'>)</span>
           <span class='kw'>end</span>
         <span class='kw'>end</span>
       <span class='kw'>end</span>
    <span class='rbrace'>}</span>
  <span class='kw'>end</span>
<span class='kw'>end</span></pre>
    </td>
  </tr>
</table>
</div>
    
  </div>

</div>

      <div id="footer">
  Generated on Thu May 19 20:12:41 2022 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.9.27 (ruby-2.7.5).
</div>

    </div>
  </body>
</html>